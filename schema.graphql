input AcceptQuoteInput {
  """
  If the seller accepts on behalf of the buyer, provide confirmation details here.
  """
  approvalConfirmation: String
  quoteId: String!
}

type AcceptQuoteResult {
  purchaseOrder: PurchaseOrder
  quote: Quote!
  salesOrder: SalesOrder!
}

input AddInvoiceChargesInput {
  chargeIds: [ID!]!
  invoiceId: ID!
}

input AddTaxLineItemInput {
  description: String!
  invoiceId: ID!
  order: Int
  type: TaxType!
  value: Float!
}

type AdminMutationNamespace {
  """Assign roles to a user (Admin only)"""
  assignRolesToUser(
    """Comma-separated role IDs"""
    roleIds: String!

    """Auth0 user ID"""
    userId: String!
  ): Boolean

  """
  Touch all documents in a collection by adding/updating a _touch timestamp field.
  """
  collectionSnapshot(
    """Name of the collection to snapshot"""
    collectionName: String!
  ): CollectionSnapshotResult!

  """Delete a specific SpiceDB relationship"""
  deleteRelationship(
    """Relation type (e.g., "member", "admin")"""
    relation: String!

    """Resource ID"""
    resourceId: String!

    """Resource type (e.g., "erp/workspace")"""
    resourceType: String!

    """Subject ID"""
    subjectId: String!

    """Subject type (e.g., "erp/user")"""
    subjectType: String!
  ): DeleteRelationshipResult!

  """Remove roles from a user (Admin only)"""
  removeRolesFromUser(
    """Comma-separated role IDs"""
    roleIds: String!

    """Auth0 user ID"""
    userId: String!
  ): Boolean

  """Send an email using the professional HTML template (Admin only)"""
  sendTemplatedEmail(
    """Optional URL for the banner background image"""
    bannerImgUrl: String

    """HTML content for the email body"""
    content: String!

    """Optional URL for the logo/icon image"""
    iconUrl: String

    """Text for the primary call-to-action button"""
    primaryCtaText: String

    """URL for the primary call-to-action button"""
    primaryCtaUrl: String

    """Optional reply-to email address"""
    replyTo: String

    """Text for the secondary call-to-action button"""
    secondaryCtaText: String

    """URL for the secondary call-to-action button"""
    secondaryCtaUrl: String

    """Subject of the email"""
    subject: String!

    """Optional subtitle displayed below the title"""
    subtitle: String

    """Title displayed in the email header"""
    title: String!

    """Email address to send the email to"""
    to: String!
  ): SendTemplatedEmailResult!

  """Send a test email to verify email configuration (Admin only)"""
  sendTestEmail(
    """Optional custom message for the email body"""
    message: String

    """Subject of the test email"""
    subject: String = "Test Email from ES ERP API"

    """Email address to send the test email to"""
    to: String!
  ): SendTestEmailResult!

  """Create or update a SpiceDB relationship"""
  writeRelationship(
    """Relation type (e.g., "member", "admin")"""
    relation: String!

    """Resource ID"""
    resourceId: String!

    """Resource type (e.g., "erp/workspace")"""
    resourceType: String!

    """Subject ID"""
    subjectId: String!

    """
    Optional subject relation for indirect relationships (e.g., "member" for group membership)
    """
    subjectRelation: String

    """Subject type (e.g., "erp/user")"""
    subjectType: String!
  ): WriteRelationshipResult!
}

type AdminQueryNamespace {
  """Get a single Auth0 user by ID (Admin only)"""
  getUserById(
    """Auth0 user ID"""
    userId: String!
  ): Auth0User

  """Get roles assigned to a user (Admin only)"""
  getUserRoles(
    """Auth0 user ID"""
    userId: String!
  ): [Auth0Role]

  """List available relations and permissions for a resource type"""
  listAvailableRelations(
    """Resource type to get relations for (e.g., "erp/workspace")"""
    resourceType: String
  ): [AvailableRelation!]!

  """List SpiceDB relationships with optional filters"""
  listRelationships(
    """Pagination cursor from previous request"""
    cursor: String

    """Maximum number of results to return"""
    limit: Int = 100

    """Filter by relation type (e.g., "member", "admin")"""
    relation: String

    """Filter by specific resource ID"""
    resourceId: String

    """Filter by resource type (e.g., "erp/workspace")"""
    resourceType: String

    """Filter by specific subject ID"""
    subjectId: String

    """Filter by subject type (e.g., "erp/user")"""
    subjectType: String
  ): ListRelationshipsResult!

  """List all resource types defined in the SpiceDB schema"""
  listResourceTypes: [String!]!

  """List all available Auth0 roles (Admin only)"""
  listRoles: [Auth0Role]

  """Preview the HTML output of an email template without sending it"""
  previewEmailTemplate(
    """Optional URL for the banner background image"""
    bannerImgUrl: String

    """HTML content for the email body"""
    content: String!

    """Optional URL for the logo/icon image"""
    iconUrl: String

    """Text for the primary call-to-action button"""
    primaryCtaText: String

    """URL for the primary call-to-action button"""
    primaryCtaUrl: String

    """Text for the secondary call-to-action button"""
    secondaryCtaText: String

    """URL for the secondary call-to-action button"""
    secondaryCtaUrl: String

    """Optional subtitle displayed below the title"""
    subtitle: String

    """Title displayed in the email header"""
    title: String!
  ): EmailTemplatePreviewResult!

  """Returns the raw SpiceDB Zed schema from SpiceDB"""
  rawZedSchema: String!

  """Search for users in Auth0 (Admin only)"""
  searchUsers(
    """Fields to include"""
    fields: String

    """Include or exclude fields"""
    includeFields: Boolean = true

    """Page number (0-based)"""
    page: Int = 0

    """Results per page"""
    perPage: Int = 50

    """Auth0 search query"""
    query: String

    """Sort field and order"""
    sort: String
  ): Auth0UsersSearchResult

  """Get recent SendGrid email activity (Admin only)"""
  sendGridEmailActivity(
    """Maximum number of results"""
    limit: Int = 50

    """Query string for filtering"""
    query: String
  ): [EmailActivity!]!

  """
  Get email details including content by SendGrid message ID (Admin only)
  """
  sendGridEmailDetails(
    """SendGrid Message ID"""
    msgId: String!
  ): EmailDetails
}

type Asset {
  category: AssetCategory
  class: AssetClass
  company: AssetCompany
  company_id: String
  custom_name: String
  description: String
  details: AssetDetails
  groups: [AssetGroup]
  id: String
  inventory_branch: AssetInventoryBranch
  keypad: [String]
  msp_branch: AssetMspBranch
  name: String
  photo: AssetPhoto
  photo_id: String
  pim_category_id: String
  pim_category_name: String
  pim_category_path: String
  pim_make: String
  pim_make_id: String
  pim_product_id: String
  pim_product_model: String
  pim_product_name: String
  pim_product_platform_id: String
  pim_product_variant: String
  pim_product_year: String
  rsp_branch: AssetRspBranch
  tracker: AssetTracker
  tsp_companies: [AssetTspCompany]
  type: AssetType
}

type AssetCategory {
  category_id: String
  composite: String
  level_1: String
  level_2: String
  level_3: String
}

type AssetClass {
  description: String
  id: String
  name: String
}

type AssetCompany {
  id: String
  name: String
}

type AssetDetails {
  asset_id: String
  camera_id: String
  custom_name: String
  description: String
  driver_name: String
  model: String
  name: String
  photo_id: String
  serial_number: String
  tracker_id: String
  vin: String
  year: String
}

type AssetGroup {
  company_id: String
  company_name: String
  id: String
  name: String
}

type AssetInventoryBranch {
  company_id: String
  company_name: String
  description: String
  id: String
  name: String
}

type AssetMspBranch {
  company_id: String
  company_name: String
  description: String
  id: String
  name: String
}

type AssetPhoto {
  filename: String
  photo_id: String
}

type AssetRspBranch {
  company_id: String
  company_name: String
  description: String
  id: String
  name: String
}

type AssetSchedule {
  asset_id: String!
  company_id: String!
  created_at: String!
  created_by: String!
  end_date: String!
  id: String!
  project_id: String!
  start_date: String!
  updated_at: String!
  updated_by: String!
}

input AssetScheduleInput {
  asset_id: String!
  end_date: String!
  project_id: String!
  start_date: String!
}

type AssetScheduleListResult {
  items: [AssetSchedule!]!
  limit: Int!
  offset: Int!
  total: Int!
}

type AssetTracker {
  company_id: String
  created: String
  device_serial: String
  id: String
  tracker_type_id: String
  updated: String
  vendor_id: String
}

type AssetTspCompany {
  company_id: String
  company_name: String
}

type AssetType {
  id: String
  name: String
}

type Auth0Identity {
  accessToken: String
  connection: String!
  isSocial: Boolean!
  provider: String!
  userId: String!
}

type Auth0Role {
  description: String
  id: String!
  name: String!
}

type Auth0User {
  appMetadata: JSON
  blocked: Boolean
  createdAt: String
  email: String
  emailVerified: Boolean
  familyName: String
  givenName: String
  identities: [Auth0Identity]
  lastIp: String
  lastLogin: String
  loginsCount: Int
  multifactor: [String]
  name: String
  nickname: String
  phoneNumber: String
  phoneVerified: Boolean
  picture: String
  updatedAt: String
  userId: String!
  userMetadata: JSON
  username: String
}

type Auth0UsersSearchResult {
  length: Int!
  limit: Int!
  start: Int!
  total: Int!
  users: [Auth0User!]!
}

type AvailableRelation {
  allowedResourceTypes: [String!]!
  allowedSubjectTypes: [String!]!
  description: String
  isComputed: Boolean!
  relation: String!
}

interface BaseTransaction {
  comments: [Comment!]
  createdAt: DateTime
  createdBy: ID
  history: [TransactionLogEntry]
  id: ID!
  lastUpdatedBy: ID
  notes: String
  projectId: ID
  statusId: ID
  type: TransactionType
  updatedAt: DateTime
  workflowId: ID
  workspaceId: ID
}

"""
The `BigInt` scalar type represents non-fractional signed whole numeric values.
"""
scalar BigInt

type Brand {
  colors: [BrandColor]
  createdAt: String!
  createdBy: String!
  description: String
  domain: String
  fonts: [BrandFont]
  id: String!
  images: [BrandImage]
  links: [BrandLink]
  logos: [BrandLogo]
  longDescription: String
  name: String
  updatedAt: String!
  updatedBy: String!
}

type BrandColor {
  brightness: Int
  hex: String!
  type: String!
}

type BrandFont {
  name: String!
  origin: String
  originId: String
  type: String!
  weights: [Int]
}

type BrandImage {
  formats: [BrandImageFormat]
  type: String
  url: String
}

type BrandImageFormat {
  background: String
  format: String
  height: Int
  size: Int
  src: String!
  width: Int
}

type BrandLink {
  name: String!
  url: String!
}

type BrandLogo {
  formats: [BrandImageFormat]
  theme: String
  type: String
  url: String
}

type BrandSearchResult {
  brandId: String!
  domain: String!
  icon: String
  name: String!
}

input BulkCalculateSubTotalInput {
  durationInDays: Int!
  priceId: ID!
}

input BulkMarkInventoryReceivedInput {
  assetId: String
  conditionNotes: String
  conditionOnReceipt: InventoryCondition
  ids: [String!]!
  pimProductId: String
  receiptNotes: String
  receivedAt: DateTime
  resourceMapId: String
}

type BulkMarkInventoryReceivedResult {
  items: [Inventory!]!
  totalProcessed: Int!
}

type BusinessContact {
  accountsPayableContactId: String
  address: String
  brand: Brand
  brandId: String
  contactType: ContactType!
  createdAt: DateTime!
  createdBy: String!
  employees: ListPersonContactsResult
  id: ID!
  latitude: Float
  longitude: Float
  name: String!
  notes: String
  phone: String
  placeId: String
  profilePicture: String
  resourceMapIds: [String!]
  resource_map_entries: [ResourceMapResource!]!
  taxId: String
  updatedAt: DateTime!
  website: String
  workspaceId: String!
}

input BusinessContactInput {
  accountsPayableContactId: ID
  address: String
  brandId: ID
  latitude: Float
  longitude: Float
  name: String!
  notes: String
  phone: String
  placeId: String
  profilePicture: String
  resourceMapIds: [ID!]
  taxId: String
  website: String
  workspaceId: String!
}

input CancelInvoiceInput {
  invoiceId: String!
}

type Charge {
  amountInCents: Int!
  billingPeriodEnd: DateTime
  billingPeriodStart: DateTime
  chargeType: ChargeType!
  companyId: ID @deprecated(reason: "No longer used")
  contact: Contact
  contactId: ID!
  createdAt: DateTime!
  description: String!
  fulfilment: Fulfilment
  fulfilmentId: ID
  id: ID!
  invoice: Invoice
  invoiceId: ID
  project: Project
  projectId: ID
  purchaseOrderNumber: String
  salesOrder: SalesOrder
  salesOrderId: ID
  salesOrderLineItem: SalesOrderLineItem
  salesOrderLineItemId: ID
  workspaceId: ID!
}

type ChargePage {
  items: [Charge!]!
  page: PaginationInfo!
}

enum ChargeType {
  RENTAL
  SALE
  SERVICE
}

type CollectionSnapshotResult {
  collectionName: String!
  documentsUpdated: Int!
  error: String
  success: Boolean!
  timestamp: String
}

type Comment {
  id: ID
}

type Company {
  id: String!
  name: String!
}

union Contact = BusinessContact | PersonContact

enum ContactType {
  BUSINESS
  PERSON
}

input CreateChargeInput {
  amountInCents: Int!
  chargeType: ChargeType!
  contactId: ID!
  description: String!
  fulfilmentId: ID
  invoiceId: ID
  projectId: ID
  purchaseOrderNumber: ID
  salesOrderId: ID
  salesOrderLineItemId: ID
  workspaceId: ID!
}

input CreateFulfilmentReservationInput {
  endDate: DateTime!
  fulfilmentId: ID!
  inventoryId: ID!
  salesOrderType: FulfilmentType!
  startDate: DateTime!
}

input CreateInventoryInput {
  actualReturnDate: DateTime
  assetId: String
  expectedReturnDate: DateTime
  fulfilmentId: String
  isThirdPartyRental: Boolean!
  pimCategoryId: String
  pimCategoryName: String
  pimCategoryPath: String
  pimProductId: String
  purchaseOrderId: String
  purchaseOrderLineItemId: String
  status: InventoryStatus!
  workspaceId: String
}

input CreateInvoiceInput {
  buyerId: String!
  sellerId: String!
  workspaceId: String!
}

type CreatePdfResult {
  error_message: String
  success: Boolean!
}

input CreatePriceBookInput {
  businessContactId: ID
  isDefault: Boolean
  location: String
  name: String!
  notes: String
  parentPriceBookId: ID

  """Percentage factor for the parent price book"""
  parentPriceBookPercentageFactor: Float = 1
  projectId: ID
  workspaceId: ID!
}

input CreateQuoteFromIntakeFormSubmissionInput {
  intakeFormSubmissionId: ID!
  sellersBuyerContactId: ID!
  sellersProjectId: ID!
  validUntil: DateTime
}

input CreateQuoteInput {
  buyerWorkspaceId: String
  buyersProjectId: String
  buyersSellerContactId: String
  rfqId: String
  sellerWorkspaceId: String!
  sellersBuyerContactId: String!
  sellersProjectId: String!
  status: QuoteStatus
  validUntil: DateTime
}

input CreateQuoteRevisionInput {
  lineItems: [QuoteRevisionLineItemInput!]!
  quoteId: String!
  revisionNumber: Int!
  validUntil: DateTime
}

input CreateRFQInput {
  buyersWorkspaceId: String!
  description: String
  invitedSellerContactIds: [String!]!
  lineItems: [RFQLineItemInput!]!
  responseDeadline: DateTime
  status: RFQStatus
}

input CreateReferenceNumberTemplateInput {
  businessContactId: String
  projectId: String
  resetFrequency: ResetFrequency!
  seqPadding: Int
  startAt: Int
  template: String!
  type: ReferenceNumberType!
  useGlobalSequence: Boolean!
  workspaceId: String!
}

input CreateRentalFulfilmentInput {
  assignedToId: String
  expectedRentalEndDate: DateTime

  """If salesOrderLineItemId is not provided, these fields are required"""
  pimDetails: FulfilmentPimInput
  pricePerDayInCents: Int!
  pricePerMonthInCents: Int!
  pricePerWeekInCents: Int!
  rentalEndDate: DateTime
  rentalStartDate: DateTime
  salesOrderId: String!
  salesOrderLineItemId: String
  workflowColumnId: ID
  workflowId: ID
}

input CreateRentalPriceInput {
  name: String
  pimCategoryId: String!
  pimProductId: ID
  priceBookId: ID
  pricePerDayInCents: Int!
  pricePerMonthInCents: Int!
  pricePerWeekInCents: Int!
  workspaceId: ID!
}

input CreateRentalPurchaseOrderLineItemInput {
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  lineitem_status: POLineItemStatus
  off_rent_date: String
  po_pim_id: String
  po_quantity: Int
  price_id: String
  purchase_order_id: String!
}

input CreateRentalSalesOrderLineItemInput {
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  intake_form_submission_line_item_id: String
  lineitem_status: LineItemStatus
  off_rent_date: String
  price_id: String
  sales_order_id: String!
  so_pim_id: String
  so_quantity: Int
}

input CreateSaleFulfilmentInput {
  assignedToId: String

  """If salesOrderLineItemId is not provided, these fields are required"""
  pimDetails: FulfilmentPimInput
  quantity: Int!
  salesOrderId: String!
  salesOrderLineItemId: String
  unitCostInCents: Int!
  workflowColumnId: ID
  workflowId: ID
}

input CreateSalePriceInput {
  discounts: JSON
  name: String
  pimCategoryId: String!
  pimProductId: ID
  priceBookId: ID
  unitCostInCents: Int!
  workspaceId: ID!
}

input CreateSalePurchaseOrderLineItemInput {
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  lineitem_status: POLineItemStatus
  po_pim_id: String
  po_quantity: Int
  price_id: String
  purchase_order_id: String!
}

input CreateSaleSalesOrderLineItemInput {
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  intake_form_submission_line_item_id: String
  lineitem_status: LineItemStatus
  price_id: String
  sales_order_id: String!
  so_pim_id: String
  so_quantity: Int
}

input CreateServiceFulfilmentInput {
  assignedToId: String

  """If salesOrderLineItemId is not provided, these fields are required"""
  pimDetails: FulfilmentPimInput
  salesOrderId: String!
  salesOrderLineItemId: String
  serviceDate: DateTime!
  unitCostInCents: Int!
  workflowColumnId: ID
  workflowId: ID
}

input CreateWorkflowConfigurationInput {
  columns: [WorkflowColumnInput!]!
  name: String!
}

type CurrentTimeEvent {
  """The current server time"""
  timestamp: String!
}

"""
A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar Date

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar DateTime

input DeleteInventoryInput {
  reason: String!
}

type DeleteRelationshipResult {
  message: String
  success: Boolean!
}

enum DeliveryMethod {
  DELIVERY
  PICKUP
}

type EmailActivity {
  clicks: Int
  email: String!
  event: String!
  fromEmail: String
  htmlContent: String
  msgId: String!
  opens: Int
  plainContent: String
  status: String
  subject: String
  timestamp: Float!
}

type EmailDetails {
  from: String!
  htmlContent: String
  msgId: String!
  plainContent: String
  status: String!
  subject: String!
  timestamp: Float!
  to: String!
}

type EmailTemplatePreviewResult {
  """The generated HTML content of the email template"""
  html: String!
}

type ExampleTicket {
  description: String!
  title: String!
}

type File {
  comments: [Note!]!
  created_at: String!
  created_by: String!
  created_by_user: User
  deleted: Boolean!
  file_key: String!
  file_name: String!
  file_size: Int!
  id: String!
  metadata: JSON
  mime_type: String!
  parent_entity_id: String!
  updated_at: String!
  updated_by: String!
  updated_by_user: User
  url(type: FileUrlType): String!
  workspace_id: String!
}

enum FileUrlType {
  ATTACHMENT
  INLINE
}

union Fulfilment = RentalFulfilment | SaleFulfilment | ServiceFulfilment

interface FulfilmentBase {
  assignedTo: User
  assignedToId: ID
  companyId: ID @deprecated(reason: "CompanyId is deprecated and will be removed in future versions. Use workspaceId instead.")
  contact: Contact
  contactId: ID
  createdAt: DateTime!
  id: ID!
  pimCategory: PimCategory
  pimCategoryId: ID
  pimCategoryName: String
  pimCategoryPath: String
  pimProduct: PimProduct
  pimProductId: ID
  price: Price
  priceId: ID
  priceName: String
  project: Project
  projectId: ID
  purchaseOrderLineItem: PurchaseOrderLineItem
  purchaseOrderLineItemId: ID
  purchaseOrderNumber: String!
  salesOrder: SalesOrder
  salesOrderId: ID!
  salesOrderLineItem: SalesOrderLineItem
  salesOrderLineItemId: ID!
  salesOrderPONumber: String
  salesOrderType: FulfilmentType!
  updatedAt: DateTime!
  workflowColumnId: ID
  workflowId: ID
  workspaceId: ID!
}

input FulfilmentPimInput {
  pimCategoryId: ID!
  pimCategoryName: String!
  pimCategoryPath: String!
  pimProductId: ID
}

type FulfilmentReservation {
  companyId: String!
  createdAt: DateTime!
  createdBy: String!
  createdByUser: User
  deleted: Boolean!
  endDate: DateTime!
  fulfilment: Fulfilment
  fulfilmentId: String!
  id: String!
  inventory: Inventory
  inventoryId: String!
  salesOrderType: FulfilmentType!
  startDate: DateTime!
  type: ReservationType!
  updatedAt: DateTime!
  updatedBy: String!
  updatedByUser: User
}

enum FulfilmentType {
  RENTAL
  SALE
  SERVICE
}

input GenerateReferenceNumberInput {
  parentProjectCode: String
  projectCode: String
  templateId: String!
}

type GenerateReferenceNumberResult {
  referenceNumber: String!
  sequenceNumber: Int!
  templateUsed: ReferenceNumberTemplate!
}

type ImportPricesResult {
  errors: [String!]!
  failed: Int!
  imported: Int!
}

type IntakeForm {
  createdAt: DateTime!
  createdBy: String!
  id: ID!
  isActive: Boolean!
  isDeleted: Boolean!
  isPublic: Boolean!
  pricebook: PriceBook
  pricebookId: ID
  project: IntakeFormProject
  projectId: ID
  sharedWithUserIds: [ID!]!
  sharedWithUsers: [User]!
  updatedAt: DateTime!
  updatedBy: String!
  workspace: IntakeFormWorkspace
  workspaceId: ID!
}

input IntakeFormInput {
  isActive: Boolean!
  isPublic: Boolean
  pricebookId: ID
  projectId: ID
  sharedWithEmails: [String!]
  workspaceId: ID!
}

type IntakeFormLineItem {
  customPriceName: String
  deliveryLocation: String
  deliveryMethod: DeliveryMethod!
  deliveryNotes: String
  description: String!
  durationInDays: Int!
  fulfilmentId: String
  id: ID!
  inventoryReservations: [InventoryReservation!]
  pimCategory: PimCategory
  pimCategoryId: String!
  price: Price
  priceForecast: LineItemPriceForecast
  priceId: String
  quantity: Int!
  rentalEndDate: DateTime
  rentalStartDate: DateTime
  salesOrderId: String
  salesOrderLineItem: SalesOrderLineItem
  startDate: DateTime!
  subtotalInCents: Int!
  type: RequestType!
}

input IntakeFormLineItemInput {
  customPriceName: String
  deliveryLocation: String
  deliveryMethod: DeliveryMethod!
  deliveryNotes: String
  description: String!
  durationInDays: Int!
  id: ID
  pimCategoryId: String!
  priceId: String
  quantity: Int!
  rentalEndDate: DateTime
  rentalStartDate: DateTime
  salesOrderId: String
  salesOrderLineItemId: String
  startDate: DateTime!
  type: RequestType!
}

type IntakeFormPage {
  items: [IntakeForm!]!
  page: IntakeFormPageInfo!
}

type IntakeFormPageInfo {
  number: Int!
  size: Int!
  totalItems: Int!
  totalPages: Int!
}

type IntakeFormProject {
  id: String!
  name: String!
  projectCode: String!
}

type IntakeFormSubmission {
  companyName: String
  createdAt: DateTime!
  email: String
  formId: ID!
  id: ID!
  lineItems: [IntakeFormLineItem!]
  name: String
  phone: String
  purchaseOrderId: String
  purchaseOrderNumber: String

  """The quote generated from this intake form submission"""
  quote: Quote
  salesOrder: SubmissionSalesOrder
  status: IntakeFormSubmissionStatus!
  submittedAt: DateTime
  totalInCents: Int!
  userId: String
  workspaceId: ID!
}

input IntakeFormSubmissionInput {
  companyName: String
  email: String
  formId: ID!
  name: String
  phone: String
  purchaseOrderNumber: String
  userId: String
  workspaceId: ID!
}

type IntakeFormSubmissionPage {
  items: [IntakeFormSubmission!]!
  page: IntakeFormSubmissionPageInfo!
}

type IntakeFormSubmissionPageInfo {
  number: Int!
  size: Int!
  totalItems: Int!
  totalPages: Int!
}

enum IntakeFormSubmissionStatus {
  DRAFT
  SUBMITTED
}

type IntakeFormWorkspace {
  bannerImageUrl: String
  companyId: Int!
  id: ID!
  logoUrl: String
  name: String!
}

type Inventory {
  actualReturnDate: DateTime
  asset: Asset
  assetId: String
  companyId: String!
  conditionNotes: String
  conditionOnReceipt: InventoryCondition
  createdAt: DateTime!
  createdBy: String!
  createdByUser: User
  expectedReturnDate: DateTime
  fulfilment: Fulfilment
  fulfilmentId: String
  id: String!
  isThirdPartyRental: Boolean!
  pimCategory: PimCategory
  pimCategoryId: String
  pimCategoryName: String
  pimCategoryPath: String
  pimProduct: PimProduct
  pimProductId: String
  purchaseOrder: PurchaseOrder
  purchaseOrderId: String
  purchaseOrderLineItem: PurchaseOrderLineItem
  purchaseOrderLineItemId: String
  receiptNotes: String
  receivedAt: DateTime
  resourceMap: ResourceMapResource
  resourceMapId: String
  status: InventoryStatus!
  updatedAt: DateTime!
  updatedBy: String!
  updatedByUser: User
  workspaceId: String
}

enum InventoryCondition {
  DAMAGED
  NEW
  REFURBISHED
  USED
}

type InventoryGroupedByCategory {
  pimCategoryId: String
  pimCategoryName: String
  pimCategoryPath: String
  quantityOnOrder: Int!
  quantityReceived: Int!
  sampleInventories: [Inventory]!
  sampleInventoryIds: [String!]!
  totalQuantity: Int!
}

type InventoryGroupedByCategoryResponse {
  items: [InventoryGroupedByCategory!]!
  pageNumber: Int!
  pageSize: Int!
  totalCount: Int!
  totalPages: Int!
}

union InventoryReservation = FulfilmentReservation

type InventoryReservationsPage {
  number: Int!
  size: Int!
  totalItems: Int!
  totalPages: Int!
}

type InventoryReservationsResponse {
  items: [InventoryReservation!]!
  page: InventoryReservationsPage!
}

type InventoryResponse {
  items: [Inventory!]!
}

enum InventoryStatus {
  ON_ORDER
  RECEIVED
}

type Invoice {
  buyer: Contact
  buyerId: String!
  companyId: String!
  createdAt: DateTime!
  createdBy: String
  createdByUser: User
  finalSumInCents: Int!
  id: String!
  invoiceNumber: String!
  invoicePaidDate: DateTime
  invoiceSentDate: DateTime
  lineItems: [InvoiceLineItem!]!
  seller: Contact
  sellerId: String!
  status: InvoiceStatus!
  subTotalInCents: Int!
  taxLineItems: [TaxLineItem!]!
  taxPercent: Float! @deprecated(reason: "Use tax line items to see tax info")
  taxesInCents: Int! @deprecated(reason: "Use totalTaxesInCents")
  totalTaxesInCents: Int!
  updatedAt: DateTime!
  updatedBy: String
  updatedByUser: User
  workspaceId: String!
}

type InvoiceLineItem {
  charge: Charge
  chargeId: ID!
  description: String!
  totalInCents: Int!
}

enum InvoiceStatus {
  CANCELLED
  DRAFT
  PAID
  SENT
}

type InvoicesResponse {
  items: [Invoice!]!
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

"""
The `JSONObject` scalar type represents JSON objects as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSONObject

type LineItemCostOptionDetails {
  exactSplitDistribution: LineItemRentalPeriod!
  optimalSplit: LineItemRentalPeriod!
  plainText: String!
  rates: LineItemPricing!
}

type LineItemPriceForecast {
  accumulative_cost_in_cents: Int!
  days: [LineItemPriceForecastDay!]!
}

type LineItemPriceForecastDay {
  accumulative_cost_in_cents: Int!
  cost_in_cents: Int!
  day: Int!
  details: LineItemCostOptionDetails!
  rental_period: LineItemRentalPeriod!
  savings_compared_to_day_rate_in_cents: Int!
  savings_compared_to_day_rate_in_fraction: Float!
  savings_compared_to_exact_split_in_cents: Int!
  strategy: String!
}

type LineItemPricing {
  pricePer1DayInCents: Int!
  pricePer7DaysInCents: Int!
  pricePer28DaysInCents: Int!
}

type LineItemRentalPeriod {
  days1: Int!
  days7: Int!
  days28: Int!
}

enum LineItemStatus {
  CONFIRMED
  DRAFT
  SUBMITTED
}

enum LineItemType {
  RENTAL
  SALE
}

input ListAssetsPage {
  number: Int = 1
  size: Int = 10
}

type ListAssetsResult {
  items: [Asset!]!
  page: PaginationInfo!
}

input ListChargesFilter {
  chargeType: ChargeType
  contactId: ID
  fulfilmentId: ID
  invoiceId: ID
  projectId: ID
  purchaseOrderNumber: ID
  salesOrderId: ID
  workspaceId: ID!
}

input ListContactsFilter {
  contactType: ContactType
  workspaceId: String!
}

input ListContactsPage {
  number: Int = 1
  size: Int = 10
}

type ListContactsResult {
  items: [Contact!]!
  page: PaginationInfo!
}

input ListFulfilmentsFilter {
  assignedTo: ID
  salesOrderId: ID
  salesOrderLineItemId: ID
  salesOrderType: FulfilmentType
  workflowColumnId: ID
  workflowId: ID
  workspaceId: ID!
}

input ListFulfilmentsPage {
  number: Int = 1
  size: Int = 10
}

type ListFulfilmentsResult {
  items: [Fulfilment!]!
  page: PaginationInfo!
}

input ListInventoryFilter {
  assetId: String
  companyId: String
  endDate: DateTime
  fulfilmentId: String
  isThirdPartyRental: Boolean
  pimCategoryId: String
  purchaseOrderId: String
  startDate: DateTime
  status: InventoryStatus
  workspaceId: String
}

input ListInventoryPage {
  number: Int
  size: Int
}

input ListInventoryQuery {
  filter: ListInventoryFilter
  page: ListInventoryPage
}

input ListInventoryReservationsFilter {
  endDate: DateTime
  fulfilmentId: String
  inventoryId: String
  pimCategoryId: String
  startDate: DateTime
  type: ReservationType
}

input ListInvoicesFilter {
  companyId: String
  status: InvoiceStatus
  workspaceId: String!
}

input ListInvoicesPage {
  number: Int
  size: Int
}

input ListInvoicesQuery {
  filter: ListInvoicesFilter!
  page: ListInvoicesPage
}

type ListPersonContactsResult {
  items: [PersonContact!]!
  page: PaginationInfo!
}

input ListPimCategoriesFilter {
  parentId: ID
  path: String
  priceBookId: ID
  searchTerm: String
}

input ListPimCategoriesPage {
  number: Int = 1
  size: Int = 10
}

type ListPimCategoriesResult {
  items: [PimCategory!]!
  page: PaginationInfo!
}

input ListPimProductsFilter {
  pimCategoryPlatformId: ID

  """Search term to filter products by name """
  searchTerm: String
}

input ListPimProductsPage {
  number: Int = 1
  size: Int = 10
}

type ListPimProductsResult {
  items: [PimProduct!]!
  page: PaginationInfo!
}

input ListPriceBooksFilter {
  workspaceId: ID!
}

input ListPriceBooksPage {
  number: Int! = 1
  size: Int! = 10
}

type ListPriceBooksResult {
  items: [PriceBook!]!
  page: PaginationInfo!
}

input ListPricesFilter {
  businessContactId: String
  name: String
  pimCategoryId: String
  priceBookId: String
  priceType: PriceType
  projectId: String
  workspaceId: ID!
}

input ListPricesPage {
  number: Int! = 1
  size: Int! = 10
}

type ListPricesResult {
  items: [Price!]!
  page: PaginationInfo!
}

input ListQuotesFilter {
  buyerWorkspaceId: String
  rfqId: String
  sellerWorkspaceId: String
  status: QuoteStatus
}

input ListQuotesPage {
  number: Int
  size: Int
}

input ListQuotesQuery {
  filter: ListQuotesFilter!
  page: ListQuotesPage
}

input ListRFQsFilter {
  buyersWorkspaceId: String!
  createdAtEnd: DateTime
  createdAtStart: DateTime
  invitedSellerContactIds: [String!]
  status: RFQStatus
  updatedAtEnd: DateTime
  updatedAtStart: DateTime
}

input ListRFQsPage {
  number: Int! = 1
  size: Int! = 10
}

type ListRFQsResult {
  items: [RFQ!]!
  page: PaginationInfo!
}

type ListRelationshipsResult {
  cursor: String
  relationships: [SpiceDBRelationship!]!
}

input ListRentalFulfilmentsFilter {
  assignedToId: ID
  contactId: ID
  hasInventoryAssigned: Boolean
  pimCategoryId: ID
  projectId: ID
  salesOrderId: ID
  salesOrderLineItemId: ID
  salesOrderType: FulfilmentType
  timelineEndDate: DateTime
  timelineStartDate: DateTime
  workflowColumnId: ID
  workflowId: ID
  workspaceId: ID!
}

type ListRentalFulfilmentsResult {
  items: [RentalFulfilment!]!
  page: PaginationInfo!
}

input ListRentalViewsPageInput {
  number: Int = 1
  size: Int = 10
}

type ListRentalViewsResult {
  items: [RentalMaterializedView!]!
  page: PaginationInfo!
}

type ListTransactionResult {
  items: [Transaction!]!
  page: PaginationInfo!
}

type ListUserPermissionsResult {
  permissions: UserPermission!
}

input ListWorkflowConfigurationsPage {
  number: Int
  size: Int
}

type ListWorkflowConfigurationsResult {
  items: [WorkflowConfiguration!]!
  page: PaginationInfo!
}

type ListWorkspaceMembersResult {
  items: [WorkspaceMember!]!
  page: PaginationInfo!
}

type ListWorkspacesResult {
  items: [Workspace!]!
  page: PaginationInfo!
}

type Llm {
  exampleTicket: ExampleTicket
  suggestTaxObligations(invoiceDescription: String!): TaxAnalysisResult
}

input MarkInvoiceAsPaidInput {
  date: DateTime!
  invoiceId: String!
}

input MarkInvoiceAsSentInput {
  date: DateTime!
  invoiceId: String!
}

type Mutation {
  acceptQuote(input: AcceptQuoteInput!): AcceptQuoteResult!
  addFileToEntity(file_key: String!, file_name: String!, metadata: JSON, parent_entity_id: String!, parent_entity_type: ResourceTypes, workspace_id: String!): File!
  addInvoiceCharges(input: AddInvoiceChargesInput!): Invoice!
  addSearchRecent(searchDocumentId: String!, workspaceId: String!): SearchUserState!
  addTaxLineItem(input: AddTaxLineItemInput!): Invoice!

  """Admin mutations (Admin only)"""
  admin: AdminMutationNamespace
  assignInventoryToRentalFulfilment(allowOverlappingReservations: Boolean = false, fulfilmentId: ID!, inventoryId: ID!): RentalFulfilment
  bulkMarkInventoryReceived(input: BulkMarkInventoryReceivedInput!): BulkMarkInventoryReceivedResult!
  cancelInvoice(input: CancelInvoiceInput!): Invoice!
  clearInvoiceTaxes(invoiceId: ID!): Invoice!
  clearSearchRecents(workspaceId: String!): SearchUserState!
  createAssetSchedule(input: AssetScheduleInput): AssetSchedule
  createBusinessContact(input: BusinessContactInput!): BusinessContact
  createCharge(input: CreateChargeInput!): Charge
  createFulfilmentReservation(input: CreateFulfilmentReservationInput!): FulfilmentReservation!

  """Create a new intake form"""
  createIntakeForm(input: IntakeFormInput!): IntakeForm

  """Create a new intake form submission"""
  createIntakeFormSubmission(input: IntakeFormSubmissionInput!): IntakeFormSubmission

  """Create a new line item for an intake form submission"""
  createIntakeFormSubmissionLineItem(input: IntakeFormLineItemInput!, submissionId: String!): IntakeFormLineItem
  createInventory(input: CreateInventoryInput!): Inventory!
  createInvoice(input: CreateInvoiceInput!): Invoice!
  createNote(input: NoteInput!): Note

  """Generate and save a PDF for an entity by path and entity_id"""
  createPdfFromPageAndAttachToEntityId(entity_id: String!, file_name: String, path: String!, workspaceId: String!): CreatePdfResult
  createPersonContact(input: PersonContactInput!): PersonContact
  createPriceBook(input: CreatePriceBookInput!): PriceBook
  createProject(input: ProjectInput): Project
  createPurchaseOrder(input: PurchaseOrderInput): PurchaseOrder
  createQuote(input: CreateQuoteInput!): Quote!
  createQuoteFromIntakeFormSubmission(input: CreateQuoteFromIntakeFormSubmissionInput!): Quote!
  createQuoteRevision(input: CreateQuoteRevisionInput!): QuoteRevision!
  createRFQ(input: CreateRFQInput!): RFQ!
  createReferenceNumberTemplate(input: CreateReferenceNumberTemplateInput!): ReferenceNumberTemplate
  createRentalFulfilment(input: CreateRentalFulfilmentInput!): RentalFulfilment
  createRentalPrice(input: CreateRentalPriceInput!): RentalPrice
  createRentalPurchaseOrderLineItem(input: CreateRentalPurchaseOrderLineItemInput): RentalPurchaseOrderLineItem
  createRentalSalesOrderLineItem(input: CreateRentalSalesOrderLineItemInput): RentalSalesOrderLineItem
  createSaleFulfilment(input: CreateSaleFulfilmentInput!): SaleFulfilment
  createSalePrice(input: CreateSalePriceInput!): SalePrice
  createSalePurchaseOrderLineItem(input: CreateSalePurchaseOrderLineItemInput): SalePurchaseOrderLineItem
  createSaleSalesOrderLineItem(input: CreateSaleSalesOrderLineItemInput): SaleSalesOrderLineItem
  createSalesOrder(input: SalesOrderInput): SalesOrder
  createServiceFulfilment(input: CreateServiceFulfilmentInput!): ServiceFulfilment
  createTransaction(input: TransactionInput!): Transaction
  createWorkflowConfiguration(input: CreateWorkflowConfigurationInput!): WorkflowConfiguration
  createWorkspace(accessType: WorkspaceAccessType!, archived: Boolean, bannerImageUrl: String, brandId: String, description: String, logoUrl: String, name: String!): Workspace
  deleteContactById(id: ID!): Boolean
  deleteFulfilment(id: ID!): Boolean

  """Soft delete an intake form"""
  deleteIntakeForm(id: String!): IntakeForm

  """Delete an intake form submission line item"""
  deleteIntakeFormSubmissionLineItem(id: String!): Boolean
  deleteInventory(id: String!, input: DeleteInventoryInput!): Boolean!
  deleteInvoice(id: String!): Boolean!
  deleteNote(id: String!): Note
  deletePriceBookById(id: ID!): Boolean
  deletePriceById(id: ID!): Boolean
  deleteProject(id: String!): Project
  deleteReferenceNumberTemplate(id: String!): Boolean
  deleteWorkflowConfigurationById(id: ID!): Boolean
  exportPrices(priceBookId: ID!): File
  generateReferenceNumber(input: GenerateReferenceNumberInput!): GenerateReferenceNumberResult
  getSignedReadUrl(fileId: ID!, type: FileUrlType): String
  importPrices(fileId: ID!, priceBookId: ID!): ImportPricesResult
  inviteUserToWorkspace(email: String!, roles: [WorkspaceUserRole!]!, workspaceId: String!): WorkspaceMember
  joinWorkspace(workspaceId: String!): Workspace
  markInvoiceAsPaid(input: MarkInvoiceAsPaidInput!): Invoice!
  markInvoiceAsSent(input: MarkInvoiceAsSentInput!): Invoice!
  refreshBrand(brandId: String!): Brand
  rejectQuote(quoteId: String!): Quote!
  removeFileFromEntity(file_id: String!): File!
  removeSearchRecent(searchDocumentId: String!, workspaceId: String!): SearchUserState!
  removeTaxLineItem(input: RemoveTaxLineItemInput!): Invoice!
  removeUserFromWorkspace(userId: String!, workspaceId: String!): Boolean
  renameFile(file_id: String!, new_file_name: String!): File!
  resetSequenceNumber(newValue: Int = 1, templateId: String!): Boolean
  runNightlyRentalChargesJob: [RentalFulfilment!]!
  runNightlyRentalChargesJobAsync: Boolean
  sendQuote(input: SendQuoteInput!): Quote!
  setExpectedRentalEndDate(expectedRentalEndDate: DateTime!, fulfilmentId: ID!): RentalFulfilment
  setFulfilmentPurchaseOrderLineItemId(fulfilmentId: ID!, purchaseOrderLineItemId: ID): FulfilmentBase

  """Set the active status of an intake form"""
  setIntakeFormActive(id: String!, isActive: Boolean!): IntakeForm

  """
  DEPRECATED: Use addTaxLineItem instead for more flexible tax management
  """
  setInvoiceTax(input: SetInvoiceTaxInput!): Invoice! @deprecated(reason: "Use addTaxLineItem instead for more flexible tax management")
  setRentalEndDate(fulfilmentId: ID!, rentalEndDate: DateTime!): RentalFulfilment
  setRentalStartDate(fulfilmentId: ID!, rentalStartDate: DateTime!): RentalFulfilment
  softDeletePurchaseOrder(id: String): PurchaseOrder
  softDeletePurchaseOrderLineItem(id: String): PurchaseOrderLineItem
  softDeleteSalesOrder(id: String): SalesOrder
  softDeleteSalesOrderLineItem(id: String): SalesOrderLineItem

  """
  Submit an intake form submission (changes status from DRAFT to SUBMITTED)
  """
  submitIntakeFormSubmission(id: String!): IntakeFormSubmission
  submitPurchaseOrder(id: ID!): PurchaseOrder
  submitSalesOrder(id: ID!): SalesOrder

  """
  Sync the current authenticated user to the database and assign domain permissions. This replicates the Auth0 post-login webhook logic for local development. Safe to call in any environment - idempotent operation.
  """
  syncCurrentUser: User
  toggleSearchFavorite(searchDocumentId: String!, workspaceId: String!): SearchUserState!
  touchAllContacts(batchSize: Int): TouchAllContactsResult
  unassignInventoryFromRentalFulfilment(fulfilmentId: ID!): RentalFulfilment
  updateBusinessAddress(address: String!, id: ID!): BusinessContact
  updateBusinessBrandId(brandId: ID!, id: ID!): BusinessContact
  updateBusinessContact(id: ID!, input: UpdateBusinessContactInput!): BusinessContact
  updateBusinessName(id: ID!, name: String!): BusinessContact
  updateBusinessPhone(id: ID!, phone: String!): BusinessContact
  updateBusinessTaxId(id: ID!, taxId: String!): BusinessContact
  updateBusinessWebsite(id: ID!, website: String!): BusinessContact
  updateFulfilmentAssignee(assignedToId: ID, fulfilmentId: ID!): FulfilmentBase
  updateFulfilmentColumn(fulfilmentId: ID!, workflowColumnId: ID, workflowId: ID): FulfilmentBase

  """Update an existing intake form"""
  updateIntakeForm(id: String!, input: UpdateIntakeFormInput!): IntakeForm

  """Update an existing intake form submission"""
  updateIntakeFormSubmission(id: String!, input: UpdateIntakeFormSubmissionInput!): IntakeFormSubmission

  """Update an existing intake form submission line item"""
  updateIntakeFormSubmissionLineItem(id: String!, input: IntakeFormLineItemInput!): IntakeFormLineItem
  updateInventoryActualReturnDate(actualReturnDate: DateTime!, id: String!): Inventory
  updateInventoryExpectedReturnDate(expectedReturnDate: DateTime!, id: String!): Inventory
  updateInventorySerialisedId(id: String!, input: UpdateInventorySerialisedIdInput!): Inventory
  updateNote(id: String!, value: JSON!): Note
  updatePersonBusiness(businessId: ID!, id: ID!): PersonContact
  updatePersonContact(id: ID!, input: UpdatePersonContactInput!): PersonContact
  updatePersonEmail(email: String!, id: ID!): PersonContact
  updatePersonName(id: ID!, name: String!): PersonContact
  updatePersonPhone(id: ID!, phone: String!): PersonContact
  updatePersonResourceMap(id: ID!, resourceMapIds: [ID!]!): PersonContact
  updatePersonRole(id: ID!, role: String!): PersonContact
  updateProject(id: String, input: ProjectInput): Project
  updateProjectCode(id: String!, project_code: String!): Project
  updateProjectContacts(id: String!, project_contacts: [ProjectContactInput!]!): Project
  updateProjectDescription(description: String, id: String!): Project
  updateProjectName(id: String!, name: String!): Project
  updateProjectParentProject(id: String!, parent_project: String): Project
  updateProjectScopeOfWork(id: String!, scope_of_work: [ScopeOfWorkEnum!]!): Project
  updateProjectStatus(id: String!, status: ProjectStatusEnum): Project
  updatePurchaseOrder(input: UpdatePurchaseOrderInput): PurchaseOrder
  updatePurchaseOrderLineItem(input: UpdatePurchaseOrderLineItemInput): PurchaseOrderLineItem @deprecated(reason: "use updateSalePurchaseOrderLineItem")
  updateQuote(input: UpdateQuoteInput!): Quote!
  updateQuoteRevision(input: UpdateQuoteRevisionInput!): QuoteRevision!
  updateQuoteStatus(input: UpdateQuoteStatusInput!): Quote!
  updateRFQ(input: UpdateRFQInput!): RFQ!
  updateReferenceNumberTemplate(input: UpdateReferenceNumberTemplateInput!): ReferenceNumberTemplate
  updateRentalPrice(input: UpdateRentalPriceInput!): RentalPrice
  updateRentalPurchaseOrderLineItem(input: UpdateRentalPurchaseOrderLineItemInput): RentalPurchaseOrderLineItem
  updateRentalSalesOrderLineItem(input: UpdateRentalSalesOrderLineItemInput): RentalSalesOrderLineItem
  updateSalePrice(input: UpdateSalePriceInput!): SalePrice
  updateSalePurchaseOrderLineItem(input: UpdateSalePurchaseOrderLineItemInput): SalePurchaseOrderLineItem
  updateSaleSalesOrderLineItem(input: UpdateSaleSalesOrderLineItemInput): SaleSalesOrderLineItem
  updateSalesOrder(input: UpdateSalesOrderInput): SalesOrder
  updateSalesOrderLineItem(input: UpdateSalesOrderLineItemInput): SalesOrderLineItem @deprecated(reason: "use updateSaleSalesOrderLineItem")
  updateTaxLineItem(input: UpdateTaxLineItemInput!): Invoice!
  updateWorkflowConfiguration(id: ID!, input: UpdateWorkflowConfigurationInput!): WorkflowConfiguration
  updateWorkspaceAccessType(accessType: WorkspaceAccessType!, workspaceId: String!): Workspace
  updateWorkspaceSettings(bannerImageUrl: String, brandId: String, description: String, logoUrl: String, name: String, workspaceId: String!): Workspace
  updateWorkspaceUserRoles(roles: [WorkspaceUserRole!]!, userId: String!, workspaceId: String!): WorkspaceMember
  upsertPimCategory(input: UpsertPimCategoryInput!): PimCategory
  upsertUser(id: String!, input: UserUpsertInput!): User
}

type Note {
  _id: String!
  company_id: String!
  created_at: DateTime!
  created_by: String!
  created_by_user: User
  deleted: Boolean!
  parent_entity_id: String!
  sub_notes: [Note!]!
  updated_at: DateTime!
  updated_by: String!
  value: JSON!
  workspace_id: String!
}

input NoteInput {
  parent_entity_id: String!
  value: JSON!
  workspace_id: String!
}

input NoteUpdateInput {
  id: String!
  value: JSON!
}

enum POLineItemStatus {
  CONFIRMED
  DRAFT
  SUBMITTED
}

enum POLineItemType {
  RENTAL
  SALE
}

input PageInfoInput {
  number: Int
  size: Int
}

type PaginationInfo {
  number: Int!
  size: Int!
  totalItems: Int!
  totalPages: Int!
}

enum PaginationOrder {
  ASC
  DESC
}

enum PermissionType {
  ERP_CHARGE_DELETE
  ERP_CHARGE_READ
  ERP_CHARGE_UPDATE
  ERP_CONTACT_DELETE
  ERP_CONTACT_READ
  ERP_CONTACT_UPDATE
  ERP_DOMAIN_IS_MEMBER
  ERP_FILE_DELETE
  ERP_FILE_READ
  ERP_FILE_UPDATE
  ERP_FULFILMENT_DELETE
  ERP_FULFILMENT_MANAGE_RENTAL_PERIOD
  ERP_FULFILMENT_READ
  ERP_FULFILMENT_UPDATE
  ERP_INTAKE_FORM_CREATE_SUBMISSION
  ERP_INTAKE_FORM_READ
  ERP_INTAKE_FORM_READ_SUBMISSIONS
  ERP_INTAKE_FORM_SUBMISSION_READ
  ERP_INTAKE_FORM_SUBMISSION_UPDATE
  ERP_INTAKE_FORM_UPDATE
  ERP_INTAKE_FORM_UPDATE_SUBMISSIONS
  ERP_INVOICE_READ
  ERP_INVOICE_UPDATE
  ERP_PLATFORM_IS_ADMIN
  ERP_PRICEBOOK_PRICE_READ
  ERP_PRICEBOOK_PRICE_UPDATE
  ERP_PRICEBOOK_READ
  ERP_PRICEBOOK_UPDATE
  ERP_PROJECT_READ
  ERP_PROJECT_UPDATE
  ERP_PURCHASE_ORDER_READ
  ERP_PURCHASE_ORDER_UPDATE
  ERP_QUOTE_ACCEPT
  ERP_QUOTE_READ
  ERP_QUOTE_REJECT
  ERP_QUOTE_UPDATE
  ERP_RFQ_READ
  ERP_RFQ_UPDATE
  ERP_SALES_ORDER_PORTAL_ACCESS
  ERP_SALES_ORDER_READ
  ERP_SALES_ORDER_UPDATE
  ERP_WORKSPACE_ADD_USER
  ERP_WORKSPACE_CAN_JOIN
  ERP_WORKSPACE_CAN_MANAGE_CHARGES
  ERP_WORKSPACE_CAN_MANAGE_CONTACTS
  ERP_WORKSPACE_CAN_MANAGE_FILES
  ERP_WORKSPACE_CAN_MANAGE_INTAKE_FORMS
  ERP_WORKSPACE_CAN_MANAGE_INTAKE_FORM_SUBMISSIONS
  ERP_WORKSPACE_CAN_MANAGE_INVOICES
  ERP_WORKSPACE_CAN_MANAGE_PRICES
  ERP_WORKSPACE_CAN_MANAGE_PRICE_BOOKS
  ERP_WORKSPACE_CAN_MANAGE_PROJECTS
  ERP_WORKSPACE_CAN_MANAGE_PURCHASE_ORDERS
  ERP_WORKSPACE_CAN_MANAGE_QUOTES
  ERP_WORKSPACE_CAN_MANAGE_REFERENCE_NUMBER_TEMPLATES
  ERP_WORKSPACE_CAN_MANAGE_RFQS
  ERP_WORKSPACE_CAN_MANAGE_SALES_ORDERS
  ERP_WORKSPACE_CAN_READ_CHARGES
  ERP_WORKSPACE_CAN_READ_CONTACTS
  ERP_WORKSPACE_CAN_READ_FILES
  ERP_WORKSPACE_CAN_READ_INVOICES
  ERP_WORKSPACE_CAN_READ_PROJECTS
  ERP_WORKSPACE_CAN_READ_PURCHASE_ORDERS
  ERP_WORKSPACE_CAN_READ_QUOTES
  ERP_WORKSPACE_CAN_READ_REFERENCE_NUMBER_TEMPLATES
  ERP_WORKSPACE_CAN_READ_RFQS
  ERP_WORKSPACE_CAN_READ_SALES_ORDERS
  ERP_WORKSPACE_CREATE_INTAKE_FORM
  ERP_WORKSPACE_CREATE_INTAKE_FORM_SUBMISSION
  ERP_WORKSPACE_CREATE_PRICE_BOOK
  ERP_WORKSPACE_IS_ADMIN
  ERP_WORKSPACE_MANAGE
  ERP_WORKSPACE_READ
  ERP_WORKSPACE_READ_INTAKE_FORMS
  ERP_WORKSPACE_READ_INTAKE_FORM_SUBMISSIONS
  ERP_WORKSPACE_READ_PRICES
  ERP_WORKSPACE_READ_PRICE_BOOKS
  ERP_WORKSPACE_REMOVE_USER
  ERP_WORKSPACE_UPDATE_USER_ROLES
}

type PersonContact {
  business: BusinessContact
  businessId: String!
  contactType: ContactType!
  createdAt: DateTime!
  createdBy: String!
  email: String!
  id: ID!
  name: String!
  notes: String
  phone: String
  profilePicture: String
  resourceMapIds: [String!]
  resource_map_entries: [ResourceMapResource!]!
  role: String
  updatedAt: DateTime!
  workspaceId: String!
}

input PersonContactInput {
  businessId: ID!
  email: String!
  name: String!
  notes: String
  phone: String
  profilePicture: String
  resourceMapIds: [ID!]
  role: String!
  workspaceId: String!
}

type PimCategory {
  childrenCount: Int
  description: String
  has_products: Boolean
  id: String!
  is_deleted: Boolean
  name: String!
  path: String!
  platform_id: String!
  productCount: Int
  tenant_id: String!
}

type PimProduct {
  id: String
  is_deleted: Boolean
  make: String
  manufacturer_part_number: String
  model: String
  name: String
  pim_category_id: String
  pim_category_path: String
  pim_category_platform_id: String
  pim_product_id: String
  sku: String
  tenant_id: String
  upc: String
  year: String
}

union Price = RentalPrice | SalePrice

type PriceBook {
  businessContact: BusinessContact
  businessContactId: ID
  comments: [Note!]!
  createdAt: DateTime!
  createdBy: String!
  createdByUser: User
  id: ID!
  isDefault: Boolean! @deprecated(reason: "soon to be removed")
  listPrices(filter: ListPricesFilter, page: ListPricesPage!): ListPricesResult
  location: String
  name: String!
  notes: String
  parentPriceBook: PriceBook
  parentPriceBookId: ID
  parentPriceBookPercentageFactor: Float
  project: Project
  projectId: ID
  updatedAt: DateTime!
  updatedBy: String!
  updatedByUser: User
  workspaceId: ID!
}

enum PriceType {
  RENTAL
  SALE
}

type Project {
  comments: [Note!]!
  created_at: String!
  created_by: String!
  created_by_user: User
  deleted: Boolean!
  description: String
  id: String!
  name: String!
  parent_project: String
  project_code: String!

  """
  Contacts associated with the project and their relation to the project.
  """
  project_contacts: [ProjectContact!]

  """
  Project scope of work. Allowed values: SITE_CIVIL, FOUNDATIONS, STRUCTURAL_FRAME, BUILDING_ENVELOPE, INTERIOR_BUILD_OUT, MEP, SPECIALTY_SYSTEMS, COMMISSIONING_STARTUP, DEMOBILIZATION_CLOSE_OUT, WARRANTY_SERVICES
  """
  scope_of_work: [ScopeOfWorkEnum]

  """
  Project status. Allowed values: CONCEPT_OPPORTUNITY, BIDDING_TENDERING, PRE_CONSTRUCTION, MOBILIZATION, ACTIVE_CONSTRUCTION, SUBSTANTIAL_COMPLETION, CLOSE_OUT, WARRANTY_MAINTENANCE, ARCHIVED_CLOSED
  """
  status: ProjectStatusEnum

  """List of sub-projects (children) for this project."""
  sub_projects: [Project]
  updated_at: String!
  updated_by: String!
  updated_by_user: User
  workspaceId: String!
}

type ProjectContact {
  contact: Contact
  contact_id: String!
  relation_to_project: ProjectContactRelationEnum!
}

input ProjectContactInput {
  contact_id: String!
  relation_to_project: ProjectContactRelationEnum!
}

type ProjectContactRelationCode {
  code: String!
  description: String!
}

"""
Project contact relation to project. Allowed values:
- PROJECT_MANAGER_GC: Project Manager (GC)
- SITE_SUPERINTENDENT: Site Superintendent
- OWNERS_REPRESENTATIVE: Owners Representative
- ARCHITECT_ENGINEER_OF_RECORD: Architect / Engineer of Record
- SAFETY_MANAGER: Safety Manager
- EQUIPMENT_RENTAL_COORDINATOR: Equipment / Rental Coordinator
"""
enum ProjectContactRelationEnum {
  ARCHITECT_ENGINEER_OF_RECORD
  EQUIPMENT_RENTAL_COORDINATOR
  OWNERS_REPRESENTATIVE
  PROJECT_MANAGER_GC
  SAFETY_MANAGER
  SITE_SUPERINTENDENT
}

input ProjectInput {
  deleted: Boolean!
  description: String
  name: String!

  """Optional referential id to a parent project"""
  parent_project: String
  project_code: String!

  """
  Contacts associated with the project and their relation to the project.
  """
  project_contacts: [ProjectContactInput!]

  """
  Project scope of work. Allowed values: SITE_CIVIL, FOUNDATIONS, STRUCTURAL_FRAME, BUILDING_ENVELOPE, INTERIOR_BUILD_OUT, MEP, SPECIALTY_SYSTEMS, COMMISSIONING_STARTUP, DEMOBILIZATION_CLOSE_OUT, WARRANTY_SERVICES
  """
  scope_of_work: [ScopeOfWorkEnum]

  """
  Project status. Allowed values: CONCEPT_OPPORTUNITY, BIDDING_TENDERING, PRE_CONSTRUCTION, MOBILIZATION, ACTIVE_CONSTRUCTION, SUBSTANTIAL_COMPLETION, CLOSE_OUT, WARRANTY_MAINTENANCE, ARCHIVED_CLOSED
  """
  status: ProjectStatusEnum
  workspaceId: String!
}

type ProjectStatusCode {
  code: String!
  description: String!
}

"""
Project status. Allowed values:
- CONCEPT_OPPORTUNITY: CONCEPT / OPPORTUNITY
- BIDDING_TENDERING: BIDDING / TENDERING
- PRE_CONSTRUCTION: PRECONSTRUCTION
- MOBILIZATION: MOBILIZATION
- ACTIVE_CONSTRUCTION: ACTIVE CONSTRUCTION
- SUBSTANTIAL_COMPLETION: SUBSTANTIAL COMPLETION
- CLOSE_OUT: CLOSEOUT
- WARRANTY_MAINTENANCE: WARRANTY / MAINTENANCE
- ARCHIVED_CLOSED: ARCHIVED / CLOSED
"""
enum ProjectStatusEnum {
  ACTIVE_CONSTRUCTION
  ARCHIVED_CLOSED
  BIDDING_TENDERING
  CLOSE_OUT
  CONCEPT_OPPORTUNITY
  MOBILIZATION
  PRE_CONSTRUCTION
  SUBSTANTIAL_COMPLETION
  WARRANTY_MAINTENANCE
}

type PurchaseOrder {
  comments: [Note!]!
  company_id: String! @deprecated(reason: "Use workspaceId instead")
  created_at: String!
  created_by: String!
  created_by_user: User
  deleted_at: String

  """Progress of inventory fulfillment for this purchase order"""
  fulfillmentProgress: PurchaseOrderFulfillmentProgress
  id: String!

  """The intake form submission associated with this purchase order"""
  intakeFormSubmission: IntakeFormSubmission

  """All inventory items associated with this purchase order"""
  inventory: [Inventory!]!
  line_items: [PurchaseOrderLineItem]

  """Pricing summary for the sales order"""
  pricing: PurchaseOrderPricing
  project: Project
  project_id: String
  purchase_order_number: String!
  quote_id: String
  quote_revision_id: String
  seller: Contact
  seller_id: String!

  """Status of the purchase order"""
  status: PurchaseOrderStatus!
  updated_at: String!
  updated_by: String!
  updated_by_user: User
  workspace_id: String
}

type PurchaseOrderFulfillmentProgress {
  """Percentage of items received (0-100)"""
  fulfillmentPercentage: Float!

  """True when all items have been received"""
  isFullyFulfilled: Boolean!

  """True when some but not all items have been received"""
  isPartiallyFulfilled: Boolean!

  """Number of inventory items still on order"""
  onOrderItems: Int!

  """Number of inventory items that have been received"""
  receivedItems: Int!

  """Human-readable fulfillment status"""
  status: String!

  """Total number of inventory items for this purchase order"""
  totalItems: Int!
}

input PurchaseOrderInput {
  project_id: String
  purchase_order_number: String
  seller_id: String!
  workspace_id: String!
}

union PurchaseOrderLineItem = RentalPurchaseOrderLineItem | SalePurchaseOrderLineItem

type PurchaseOrderLineItemPriceEstimate {
  costInCents: Int

  """Delivery cost in cents for this line item"""
  delivery_cost_in_cents: Int
  details: LineItemCostOptionDetails

  """Forecast of accumulative cost over a range of days"""
  forecast(number_of_days: Int = 200): LineItemPriceForecast
  rentalPeriod: LineItemRentalPeriod
  savingsComparedToDayRateInCents: Int
  savingsComparedToDayRateInFraction: Float
  savingsComparedToExactSplitInCents: Int
  strategy: String

  """Total cost including delivery in cents for this line item"""
  total_including_delivery_in_cents: Int
}

type PurchaseOrderListResult {
  items: [PurchaseOrder!]!
  limit: Int!
  offset: Int!
  total: Int!
}

type PurchaseOrderPricing {
  """Sum of all line item totals (pre-tax)"""
  sub_total_in_cents: Int

  """Total amount (same as sub_total_in_cents, no tax included)"""
  total_in_cents: Int
}

enum PurchaseOrderStatus {
  DRAFT
  SUBMITTED
}

type Query {
  """Admin operations (Admin only)"""
  admin: AdminQueryNamespace
  bulkCalculateSubTotal(inputs: [BulkCalculateSubTotalInput!]!): [LineItemPriceForecast!]!
  calculateSubTotal(durationInDays: Int!, priceId: ID!): LineItemPriceForecast!
  getBrandByDomain(domain: String!): Brand
  getBrandById(brandId: String!): Brand
  getBrandsByIds(brandIds: [String!]!): [Brand]
  getBulkSearchDocumentsById(ids: [String!]!): [SearchDocument]!
  getContactById(id: ID!): Contact
  getCurrentSequenceNumber(templateId: String!, type: ReferenceNumberType!, workspaceId: String!): Int!
  getCurrentUser: User
  getDefaultTemplates(workspaceId: String!): [ReferenceNumberTemplate!]!
  getFulfilmentById(id: ID!): Fulfilment

  """Get a single intake form by ID"""
  getIntakeFormById(id: String!): IntakeForm

  """Get a single intake form submission by ID"""
  getIntakeFormSubmissionById(id: String!): IntakeFormSubmission

  """Get an intake form submission by purchase order ID"""
  getIntakeFormSubmissionByPurchaseOrderId(purchaseOrderId: String!): IntakeFormSubmission

  """Get an intake form submission by sales order ID"""
  getIntakeFormSubmissionBySalesOrderId(salesOrderId: String!): IntakeFormSubmission

  """Get a single intake form submission line item by ID"""
  getIntakeFormSubmissionLineItem(id: String!): IntakeFormLineItem
  getInventoryReservationById(id: ID!): InventoryReservation
  getNoteById(id: String!): Note
  getPimCategoryById(id: ID!): PimCategory
  getPimProductById(id: ID!): PimProduct
  getPriceBookById(id: ID!): PriceBook
  getPriceById(id: ID!): Price
  getProjectById(id: String!): Project
  getPurchaseOrderById(id: String): PurchaseOrder
  getPurchaseOrderLineItemById(id: String): PurchaseOrderLineItem
  getReferenceNumberTemplate(id: String!): ReferenceNumberTemplate

  """Get a single resource map entry by id, with tenant check"""
  getResourceMapEntry(id: String!): ResourceMapResource
  getSalesOrderById(id: String): SalesOrder
  getSalesOrderLineItemById(id: String): SalesOrderLineItem
  getSearchDocumentByDocumentId(documentId: String!): SearchDocument
  getSearchDocumentById(id: String!): SearchDocument
  getSearchUserState(workspaceId: String!): SearchUserState
  getSignedUploadUrl(contentType: SupportedContentType!, originalFilename: String): SignedUploadUrl!
  getUsersById(userIds: [String!]!): [User]
  getWorkflowConfigurationById(id: ID!): WorkflowConfiguration
  getWorkspaceById(id: String!): Workspace
  helloWorld: String
  inventoryById(id: String!): Inventory
  invoiceById(id: String!): Invoice
  listAssetSchedules(asset_id: String, limit: Int = 20, offset: Int = 0, project_id: String): AssetScheduleListResult
  listAssets(page: ListAssetsPage): ListAssetsResult
  listCharges(filter: ListChargesFilter!, page: PageInfoInput): ChargePage
  listContacts(filter: ListContactsFilter!, page: ListContactsPage): ListContactsResult
  listFilesByEntityId(parent_entity_id: String!, workspace_id: String!): [File!]!
  listFulfilments(filter: ListFulfilmentsFilter!, page: ListFulfilmentsPage): ListFulfilmentsResult

  """List all line items for an intake form submission"""
  listIntakeFormSubmissionLineItems(submissionId: String!): [IntakeFormLineItem!]!

  """List all intake form submissions for a workspace with pagination"""
  listIntakeFormSubmissions(excludeWithSalesOrder: Boolean, intakeFormId: String, limit: Int, page: Int, workspaceId: String!): IntakeFormSubmissionPage

  """List all intake forms for a workspace with pagination"""
  listIntakeForms(limit: Int, page: Int, workspaceId: String!): IntakeFormPage

  """List all intake forms that a user has access to with pagination"""
  listIntakeFormsForUser(limit: Int, page: Int): IntakeFormPage
  listInventory(query: ListInventoryQuery): InventoryResponse!
  listInventoryGroupedByPimCategoryId(query: ListInventoryQuery): InventoryGroupedByCategoryResponse!
  listInventoryReservations(filter: ListInventoryReservationsFilter, page: ListInventoryPage): InventoryReservationsResponse!
  listInvoices(query: ListInvoicesQuery): InvoicesResponse!
  listJoinableWorkspaces: ListWorkspacesResult!
  listNotesByEntityId(parent_entity_id: String!): [Note!]!
  listPimCategories(filter: ListPimCategoriesFilter, page: ListPimCategoriesPage): ListPimCategoriesResult
  listPimProducts(filter: ListPimProductsFilter, page: ListPimProductsPage): ListPimProductsResult
  listPriceBookCategories(priceBookId: String, workspaceId: ID!): [PimCategory!]!
  listPriceBooks(filter: ListPriceBooksFilter!, page: ListPriceBooksPage!): ListPriceBooksResult
  listPriceNames(pimCategoryId: String, priceBookId: String, workspaceId: ID!): [String!]!
  listPrices(filter: ListPricesFilter!, page: ListPricesPage!): ListPricesResult

  """
  Lists all possible project contact relation codes and their descriptions.
  """
  listProjectContactRelationCodes: [ProjectContactRelationCode]

  """
  Lists all possible project status codes and their descriptions, including recommended usage and stage meaning.
  """
  listProjectStatusCodes: [ProjectStatusCode]
  listProjects(workspaceId: String!): [Project]
  listProjectsByParentProjectId(parent_project: String!): [Project]
  listPurchaseOrders(limit: Int = 20, offset: Int = 0, workspaceId: String!): PurchaseOrderListResult
  listQuotes(query: ListQuotesQuery): QuotesResponse!
  listRFQs(filter: ListRFQsFilter!, page: ListRFQsPage!): ListRFQsResult!
  listReferenceNumberTemplates(filter: ReferenceNumberTemplateFilterInput!, page: PageInfoInput): [ReferenceNumberTemplate!]!
  listRentalFulfilments(filter: ListRentalFulfilmentsFilter!, page: ListFulfilmentsPage): ListRentalFulfilmentsResult
  listRentalViews(filter: RentalViewFilterInput, page: ListRentalViewsPageInput): ListRentalViewsResult

  """
  Get all resource map entries filtered by tenant_id (from the calling user company id)
  """
  listResourceMapEntries: [ResourceMapResource]

  """List resource map entities by parent_id (with tenant scoping)"""
  listResourceMapEntriesByParentId(parent_id: String!): [ResourceMapResource]
  listSalesOrders(limit: Int = 20, offset: Int = 0, workspaceId: String!): SalesOrderListResult

  """
  Lists all possible scope_of_work codes and their descriptions, including recommended usage and stage meaning.
  """
  listScopeOfWorkCodes: [ScopeOfWorkCode]

  """Lists all top-level projects (where parent_project is null)."""
  listTopLevelProjects(workspaceId: String!): [Project]
  listTransactions(workspaceId: ID!): ListTransactionResult!
  listUserResourcePermissions(resourceId: ID!, resourceType: ResourceType!): ListUserPermissionsResult!
  listWorkflowConfigurations(page: ListWorkflowConfigurationsPage): ListWorkflowConfigurationsResult
  listWorkspaceMembers(workspaceId: String!): ListWorkspaceMembersResult!
  listWorkspaces: ListWorkspacesResult!
  llm: Llm
  quoteById(id: String!): Quote
  quoteRevisionById(id: String!): QuoteRevision
  rfqById(id: String!): RFQ
  searchBrands(query: String!): [BrandSearchResult]
  searchDocuments(collections: [SearchableCollectionType!], page: Int = 1, pageSize: Int = 20, searchText: String, workspaceId: String!): SearchDocumentsResult!
  usersSearch(searchTerm: String): [User]
  validEnterpriseDomain(domain: String!): ValidEnterpriseDomainResult!
}

type Quote {
  buyerUserId: String
  buyerWorkspaceId: String
  buyersProject: Project
  buyersProjectId: String
  buyersSellerContact: Contact
  buyersSellerContactId: String
  createdAt: DateTime!
  createdBy: String!
  createdByUser: User
  currentRevision: QuoteRevision
  currentRevisionId: String
  id: String!

  """The intake form submission this quote was generated from"""
  intakeFormSubmission: IntakeFormSubmission
  intakeFormSubmissionId: String
  rfqId: String
  sellerWorkspaceId: String!
  sellersBuyerContact: Contact
  sellersBuyerContactId: String!
  sellersProject: Project
  sellersProjectId: String!
  status: QuoteStatus!
  updatedAt: DateTime!
  updatedBy: String!
  updatedByUser: User
  validUntil: DateTime
}

enum QuoteLineItemDeliveryMethod {
  DELIVERY
  PICKUP
}

enum QuoteLineItemType {
  RENTAL
  SALE
  SERVICE
}

type QuoteRevision {
  createdAt: DateTime!
  createdBy: String!
  createdByUser: User
  hasUnpricedLineItems: Boolean!
  id: String!
  lineItems: [QuoteRevisionLineItem!]!
  quoteId: String!
  revisionNumber: Int!
  status: RevisionStatus!
  updatedAt: DateTime!
  updatedBy: String!
  updatedByUser: User
  validUntil: DateTime
}

union QuoteRevisionLineItem = QuoteRevisionRentalLineItem | QuoteRevisionSaleLineItem | QuoteRevisionServiceLineItem

input QuoteRevisionLineItemInput {
  deliveryLocation: String
  deliveryMethod: QuoteLineItemDeliveryMethod
  deliveryNotes: String
  description: String!
  id: String
  intakeFormSubmissionLineItemId: String
  pimCategoryId: String
  quantity: Int
  rentalEndDate: DateTime
  rentalStartDate: DateTime
  sellersPriceId: ID
  type: QuoteLineItemType!
}

type QuoteRevisionRentalLineItem {
  deliveryLocation: String
  deliveryMethod: QuoteLineItemDeliveryMethod
  deliveryNotes: String
  description: String!
  id: String
  intakeFormSubmissionLineItem: IntakeFormLineItem
  intakeFormSubmissionLineItemId: String
  pimCategory: PimCategory
  pimCategoryId: String!
  price: Price
  quantity: Int!
  rentalEndDate: DateTime!
  rentalStartDate: DateTime!
  sellersPriceId: ID
  subtotalInCents: Int!
  type: QuoteLineItemType!
}

type QuoteRevisionSaleLineItem {
  deliveryLocation: String
  deliveryMethod: QuoteLineItemDeliveryMethod
  deliveryNotes: String
  description: String!
  id: String
  intakeFormSubmissionLineItem: IntakeFormLineItem
  intakeFormSubmissionLineItemId: String
  pimCategory: PimCategory
  pimCategoryId: String!
  price: Price
  quantity: Int!
  sellersPriceId: ID
  subtotalInCents: Int!
  type: QuoteLineItemType!
}

type QuoteRevisionServiceLineItem {
  deliveryLocation: String
  deliveryMethod: QuoteLineItemDeliveryMethod
  deliveryNotes: String
  description: String!
  id: String
  intakeFormSubmissionLineItem: IntakeFormLineItem
  intakeFormSubmissionLineItemId: String
  price: Price
  quantity: Int!
  sellersPriceId: ID
  subtotalInCents: Int!
  type: QuoteLineItemType!
}

enum QuoteStatus {
  ACCEPTED
  ACTIVE
  CANCELLED
  EXPIRED
  REJECTED
}

type QuotesResponse {
  items: [Quote!]!
}

type RFQ {
  buyersWorkspaceId: String!
  createdAt: DateTime!
  createdBy: String!
  createdByUser: User
  description: String
  id: String!
  invitedSellerContactIds: [String!]!
  invitedSellerContacts: [Contact!]
  lineItems: [RFQLineItem!]!
  responseDeadline: DateTime
  status: RFQStatus!
  updatedAt: DateTime!
  updatedBy: String!
  updatedByUser: User
}

union RFQLineItem = RFQRentalLineItem | RFQSaleLineItem | RFQServiceLineItem

input RFQLineItemInput {
  description: String!
  id: String
  pimCategoryId: String
  quantity: Int
  rentalEndDate: DateTime
  rentalStartDate: DateTime
  type: QuoteLineItemType!
}

type RFQRentalLineItem {
  description: String!
  id: String
  pimCategory: PimCategory
  pimCategoryId: String!
  quantity: Int!
  rentalEndDate: DateTime!
  rentalStartDate: DateTime!
  type: QuoteLineItemType!
}

type RFQSaleLineItem {
  description: String!
  id: String
  pimCategory: PimCategory
  pimCategoryId: String!
  quantity: Int!
  type: QuoteLineItemType!
}

type RFQServiceLineItem {
  description: String!
  id: String
  quantity: Int!
  type: QuoteLineItemType!
}

enum RFQStatus {
  ACCEPTED
  CANCELLED
  DRAFT
  EXPIRED
  REJECTED
  SENT
}

type ReferenceNumberTemplate {
  businessContact: Contact
  businessContactId: String
  companyId: String @deprecated(reason: "Use workspaceId instead")
  createdAt: DateTime!
  createdBy: String!
  createdByUser: User
  deleted: Boolean!
  id: String!
  project: Project
  projectId: String
  resetFrequency: ResetFrequency!
  seqPadding: Int
  startAt: Int
  template: String!
  type: ReferenceNumberType!
  updatedAt: DateTime!
  updatedBy: String!
  updatedByUser: User
  useGlobalSequence: Boolean!
  workspaceId: String!
}

input ReferenceNumberTemplateFilterInput {
  businessContactId: String
  projectId: String
  type: ReferenceNumberType
  workspaceId: String!
}

enum ReferenceNumberType {
  INVOICE
  PO
  SO
}

input RemoveTaxLineItemInput {
  invoiceId: ID!
  taxLineItemId: ID!
}

type RentalFulfilment implements FulfilmentBase {
  assignedTo: User
  assignedToId: ID
  companyId: ID @deprecated(reason: "CompanyId is deprecated and will be removed in future versions. Use workspaceId instead.")
  contact: Contact
  contactId: ID
  createdAt: DateTime!
  expectedRentalEndDate: DateTime
  id: ID!
  inventory: Inventory
  inventoryId: ID
  lastChargedAt: DateTime
  pimCategory: PimCategory
  pimCategoryId: ID
  pimCategoryName: String
  pimCategoryPath: String
  pimProduct: PimProduct
  pimProductId: ID
  price: Price
  priceId: ID
  priceName: String
  pricePerDayInCents: Int!
  pricePerMonthInCents: Int!
  pricePerWeekInCents: Int!
  project: Project
  projectId: ID
  purchaseOrderLineItem: PurchaseOrderLineItem
  purchaseOrderLineItemId: ID
  purchaseOrderNumber: String!
  rentalEndDate: DateTime
  rentalStartDate: DateTime
  salesOrder: SalesOrder
  salesOrderId: ID!
  salesOrderLineItem: SalesOrderLineItem
  salesOrderLineItemId: ID!
  salesOrderPONumber: String
  salesOrderType: FulfilmentType!
  updatedAt: DateTime!
  workflowColumnId: ID
  workflowId: ID
  workspaceId: ID!
}

type RentalMaterializedView {
  asset: RentalViewAsset
  details: RentalViewDetails
  order: RentalViewOrder
  rentalId: String!
  status: RentalViewStatus
}

type RentalPrice {
  calculateSubTotal(durationInDays: Int!): LineItemPriceForecast!
  createdAt: DateTime!
  createdBy: String!
  id: ID!
  name: String
  parentPrice: Price
  parentPriceId: ID
  parentPriceIdPercentageFactor: Float
  pimCategory: PimCategory
  pimCategoryId: String!
  pimCategoryName: String!
  pimCategoryPath: String!
  pimProduct: PimProduct
  pimProductId: ID
  priceBook: PriceBook
  priceBookId: ID
  pricePerDayInCents: Int!
  pricePerMonthInCents: Int!
  pricePerWeekInCents: Int!
  priceType: PriceType!
  updatedAt: DateTime!
  workspaceId: ID!
}

type RentalPurchaseOrderLineItem {
  """
  Full calculated price estimate for the line item (fixed or unfixed term)
  """
  calulate_price: PurchaseOrderLineItemPriceEstimate
  company_id: String
  created_at: String
  created_by: String
  created_by_user: User
  deleted_at: String
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!

  """Inventory items associated with this line item"""
  inventory: [Inventory!]!
  lineitem_status: POLineItemStatus
  lineitem_type: POLineItemType!
  off_rent_date: String
  po_pim_id: String
  po_quantity: Int
  price: Price
  price_id: String
  purchaseOrder: PurchaseOrder
  purchase_order_id: String!
  quote_revision_line_item_id: String
  so_pim_category: PimCategory
  so_pim_product: PimProduct

  """Total days on rent (inclusive of start date, exclusive of end date)"""
  totalDaysOnRent: Int
  updated_at: String
  updated_by: String
  updated_by_user: User
}

type RentalSalesOrderLineItem {
  """
  Full calculated price estimate for the line item (fixed or unfixed term)
  """
  calulate_price: SalesOrderLineItemPriceEstimate
  company_id: String
  created_at: String
  created_by: String
  created_by_user: User
  deleted_at: String
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!

  """
  The intake form submission line item associated with this sales order line item
  """
  intakeFormSubmissionLineItem: IntakeFormLineItem
  intake_form_submission_line_item_id: String
  lineitem_status: LineItemStatus
  lineitem_type: LineItemType!
  off_rent_date: String
  price: Price
  price_id: String
  quote_revision_line_item_id: String
  sales_order_id: String!
  so_pim_category: PimCategory
  so_pim_id: String
  so_pim_product: PimProduct
  so_quantity: Int

  """Total days on rent (inclusive of start date, exclusive of end date)"""
  totalDaysOnRent: Int
  updated_at: String
  updated_by: String
  updated_by_user: User
}

type RentalTransaction implements BaseTransaction {
  assetId: ID
  comments: [Comment!]
  createdAt: DateTime
  createdBy: ID
  dropOffLocation: String
  endDate: DateTime
  history: [TransactionLogEntry]
  id: ID!
  lastUpdatedBy: ID
  notes: String
  pickUpLocation: String
  pimId: ID
  pricePerDayInCents: Int
  pricePerMonthInCents: Int
  pricePerWeekInCents: Int
  projectId: ID
  startDate: DateTime
  statusId: ID
  type: TransactionType
  updatedAt: DateTime
  workflowId: ID
  workspaceId: ID
}

type RentalViewAsset {
  assetId: String
  class: RentalViewAssetClass
  company: RentalViewAssetCompany
  details: RentalViewAssetDetails
  groups: [RentalViewAssetGroup]
  inventoryBranch: RentalViewAssetBranch
  keypad: [String]
  make: RentalViewAssetMake
  model: RentalViewAssetModel
  mspBranch: RentalViewAssetBranch
  photo: RentalViewAssetPhoto
  rspBranch: RentalViewAssetBranch
  tracker: RentalViewAssetTracker
  tspCompanies: [RentalViewAssetTspCompany]
  type: RentalViewAssetType
}

type RentalViewAssetBranch {
  companyId: String
  companyName: String
  description: String
  id: String
  name: String
}

type RentalViewAssetClass {
  description: String
  id: String
  name: String
}

type RentalViewAssetCompany {
  id: String
  name: String
}

type RentalViewAssetDetails {
  assetId: String
  cameraId: String
  customName: String
  description: String
  driverName: String
  model: String
  name: String
  photoId: String
  serialNumber: String
  trackerId: String
  vin: String
  year: String
}

type RentalViewAssetGroup {
  companyId: String
  companyName: String
  id: String
  name: String
}

type RentalViewAssetMake {
  id: String
  name: String
}

type RentalViewAssetModel {
  id: String
  name: String
}

type RentalViewAssetPhoto {
  filename: String
  photoId: String
}

type RentalViewAssetTracker {
  companyId: String
  created: String
  deviceSerial: String
  id: String
  trackerTypeId: String
  updated: String
  vendorId: String
}

type RentalViewAssetTspCompany {
  companyId: String
  companyName: String
}

type RentalViewAssetType {
  id: String
  name: String
}

type RentalViewDetails {
  amountReceived: String
  assetId: String
  borrowerUserId: String
  dateCreated: String
  deleted: String
  deliveryCharge: String
  deliveryInstructions: String
  deliveryRequired: String
  dropOffDeliveryId: String
  dropOffDeliveryRequired: String
  endDate: String
  endDateEstimated: String
  equipmentClassId: String
  externalId: String
  hasReRent: String
  inventoryProductId: String
  inventoryProductName: String
  inventoryProductNameHistorical: String
  isBelowFloorRate: String
  isFlatMonthlyRate: String
  isFlexibleRate: String
  jobDescription: String
  lienNoticeSent: String
  offRentDateRequested: String
  oneTimeCharge: String
  orderId: String
  partTypeId: String
  price: String
  pricePerDay: String
  pricePerHour: String
  pricePerMonth: String
  pricePerWeek: String
  purchasePrice: String
  quantity: String
  rateTypeId: String
  rentalId: String
  rentalPricingStructureId: String
  rentalProtectionPlanId: String
  rentalPurchaseOptionId: String
  rentalStatusId: String
  rentalTypeId: String
  returnCharge: String
  returnDeliveryId: String
  returnDeliveryRequired: String
  startDate: String
  startDateEstimated: String
  taxable: String
}

input RentalViewFilterInput {
  assetId: String
  borrowerUserId: String
  orderId: String
  rentalStatusId: String
  startDateFrom: String
  startDateTo: String
}

type RentalViewOrder {
  companyId: String
  companyName: String
  dateCreated: String
  dateUpdated: String
  orderId: String
  orderStatusId: String
  orderStatusName: String
  orderedByEmail: String
  orderedByFirstName: String
  orderedByLastName: String
  orderedByUserId: String
}

type RentalViewStatus {
  id: String
  name: String
}

enum RequestType {
  PURCHASE
  RENTAL
}

enum ReservationType {
  FULFILMENT
}

enum ResetFrequency {
  daily
  monthly
  never
  yearly
}

type ResourceMapResource {
  children: [ResourceMapResource]
  hierarchy_id: String
  hierarchy_name: String
  id: String!
  parent: ResourceMapResource
  parent_id: String
  path: [String!]
  resource_id: String!
  tenant_id: String!
  type: String
  value: String
}

enum ResourceType {
  ERP_CHARGE
  ERP_CONTACT
  ERP_DOMAIN
  ERP_FILE
  ERP_FULFILMENT
  ERP_INTAKE_FORM
  ERP_INTAKE_FORM_SUBMISSION
  ERP_INVOICE
  ERP_PLATFORM
  ERP_PRICEBOOK
  ERP_PRICEBOOK_PRICE
  ERP_PROJECT
  ERP_PURCHASE_ORDER
  ERP_QUOTE
  ERP_RFQ
  ERP_SALES_ORDER
  ERP_SERVICE_ACCOUNT
  ERP_USER
  ERP_WORKSPACE
}

enum ResourceTypes {
  ERP_CHARGE
  ERP_CONTACT
  ERP_DOMAIN
  ERP_FILE
  ERP_FULFILMENT
  ERP_INTAKE_FORM
  ERP_INTAKE_FORM_SUBMISSION
  ERP_INVOICE
  ERP_PLATFORM
  ERP_PRICEBOOK
  ERP_PRICEBOOK_PRICE
  ERP_PROJECT
  ERP_PURCHASE_ORDER
  ERP_QUOTE
  ERP_RFQ
  ERP_SALES_ORDER
  ERP_SERVICE_ACCOUNT
  ERP_USER
  ERP_WORKSPACE
}

enum RevisionStatus {
  DRAFT
  SENT
}

type SaleFulfilment implements FulfilmentBase {
  assignedTo: User
  assignedToId: ID
  companyId: ID @deprecated(reason: "CompanyId is deprecated and will be removed in future versions. Use workspaceId instead.")
  contact: Contact
  contactId: ID
  createdAt: DateTime!
  id: ID!
  pimCategory: PimCategory
  pimCategoryId: ID
  pimCategoryName: String
  pimCategoryPath: String
  pimProduct: PimProduct
  pimProductId: ID
  price: Price
  priceId: ID
  priceName: String
  project: Project
  projectId: ID
  purchaseOrderLineItem: PurchaseOrderLineItem
  purchaseOrderLineItemId: ID
  purchaseOrderNumber: String!
  quantity: Int!
  salePrice: Float
  salesOrder: SalesOrder
  salesOrderId: ID!
  salesOrderLineItem: SalesOrderLineItem
  salesOrderLineItemId: ID!
  salesOrderPONumber: String
  salesOrderType: FulfilmentType!
  unitCostInCents: Int!
  updatedAt: DateTime!
  workflowColumnId: ID
  workflowId: ID
  workspaceId: ID!
}

type SalePrice {
  createdAt: DateTime!
  createdBy: String!
  discounts: JSON
  id: ID!
  name: String
  parentPrice: Price
  parentPriceId: ID
  parentPriceIdPercentageFactor: Float
  pimCategory: PimCategory
  pimCategoryId: String!
  pimCategoryName: String!
  pimCategoryPath: String!
  pimProduct: PimProduct
  pimProductId: ID
  priceBook: PriceBook
  priceBookId: ID
  priceType: PriceType!
  unitCostInCents: Int!
  updatedAt: DateTime!
  workspaceId: ID!
}

type SalePurchaseOrderLineItem {
  company_id: String
  created_at: String
  created_by: String
  created_by_user: User
  deleted_at: String
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!

  """Inventory items associated with this line item"""
  inventory: [Inventory!]!
  lineitem_status: POLineItemStatus
  lineitem_type: POLineItemType!
  po_pim_id: String
  po_quantity: Int
  price: Price
  price_id: String
  purchaseOrder: PurchaseOrder
  purchase_order_id: String!
  quote_revision_line_item_id: String
  so_pim_category: PimCategory
  so_pim_product: PimProduct
  updated_at: String
  updated_by: String
  updated_by_user: User
}

type SaleSalesOrderLineItem {
  company_id: String
  created_at: String
  created_by: String
  created_by_user: User
  deleted_at: String
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!

  """
  The intake form submission line item associated with this sales order line item
  """
  intakeFormSubmissionLineItem: IntakeFormLineItem
  intake_form_submission_line_item_id: String
  lineitem_status: LineItemStatus
  lineitem_type: LineItemType!
  price: Price
  price_id: String
  quote_revision_line_item_id: String
  sales_order_id: String!
  so_pim_category: PimCategory
  so_pim_id: String
  so_pim_product: PimProduct
  so_quantity: Int
  updated_at: String
  updated_by: String
  updated_by_user: User
}

type SaleTransaction implements BaseTransaction {
  comments: [Comment!]
  createdAt: DateTime
  createdBy: ID
  history: [TransactionLogEntry]
  id: ID!
  lastUpdatedBy: ID
  notes: String
  priceInCents: Int
  product: String
  projectId: ID
  quantity: Int
  statusId: ID
  type: TransactionType
  updatedAt: DateTime
  workflowId: ID
  workspaceId: ID
}

type SalesOrder {
  buyer: Contact
  buyer_id: String!
  comments: [Note!]!
  company_id: String! @deprecated(reason: "Use workspace_id instead")
  created_at: String!
  created_by: String!
  created_by_user: User
  deleted_at: String
  id: String!

  """The intake form submission associated with this sales order"""
  intakeFormSubmission: IntakeFormSubmission
  intake_form_submission_id: String
  line_items: [SalesOrderLineItem]

  """Pricing summary for the sales order"""
  pricing: SalesOrderPricing
  project: Project
  project_id: String
  purchase_order_number: String
  quote_id: String
  quote_revision_id: String
  sales_order_number: String!

  """Status of the sales order"""
  status: SalesOrderStatus!
  updated_at: String!
  updated_by: String!
  updated_by_user: User
  workspace_id: String
}

input SalesOrderInput {
  buyer_id: String!
  intake_form_submission_id: String
  project_id: String
  purchase_order_number: String
  sales_order_number: String
  workspace_id: String!
}

union SalesOrderLineItem = RentalSalesOrderLineItem | SaleSalesOrderLineItem

type SalesOrderLineItemPriceEstimate {
  costInCents: Int

  """Delivery cost in cents for this line item"""
  delivery_cost_in_cents: Int
  details: LineItemCostOptionDetails

  """Forecast of accumulative cost over a range of days"""
  forecast(number_of_days: Int = 200): LineItemPriceForecast
  rentalPeriod: LineItemRentalPeriod
  savingsComparedToDayRateInCents: Int
  savingsComparedToDayRateInFraction: Float
  savingsComparedToExactSplitInCents: Int
  strategy: String

  """Total cost including delivery in cents for this line item"""
  total_including_delivery_in_cents: Int
}

type SalesOrderListResult {
  items: [SalesOrder!]!
  limit: Int!
  offset: Int!
  total: Int!
}

type SalesOrderPricing {
  """Sum of all line item totals (pre-tax)"""
  sub_total_in_cents: Int

  """Total amount (same as sub_total_in_cents, no tax included)"""
  total_in_cents: Int
}

enum SalesOrderStatus {
  DRAFT
  SUBMITTED
}

type ScopeOfWorkCode {
  code: String!
  description: String!
}

"""
Project scope of work. Allowed values:
- SITE_CIVIL: Clearing, grubbing, earthwork, underground utilities, erosion control, paving, striping, hardscape, and landscaping.
- FOUNDATIONS: Deep (pile, caisson) and shallow (spread footing, slabongrade) foundations, waterproofing, and subslab drainage systems.
- STRUCTURAL_FRAME: Structural steel or castinplace concrete frame, metal decking, shear bracing, anchor bolts, and related fireproofing.
- BUILDING_ENVELOPE: Exterior wall systems (masonry, precast, curtain wall), thermal & moisture protection, roofing systems, windows, skylights, and exterior doors.
- INTERIOR_BUILD_OUT: Metal studs, drywall, ceilings, flooring, interior glazing, millwork, casework, interior doors, hardware, paint, and specialty finishes.
- MEP: HVAC equipment & ductwork, plumbing supply & waste, fire protection systems, medium- and low-voltage electrical distribution, lighting, and emergency power.
- SPECIALTY_SYSTEMS: Vertical transportation (elevators, lifts), building automation, security & access control, audiovisual, structured cabling, and telecom infrastructure.
- COMMISSIONING_STARTUP: Functional performance testing, TAB (testing, adjusting & balancing), systems verification, owner training sessions, and punchlist resolution.
- DEMOBILIZATION_CLOSE_OUT: Final cleaning, removal of temporary facilities, restoration of laydown areas, compilation of turnover documentation, warranty certificates, lien waivers, and final pay application.
- WARRANTY_SERVICES: Scheduled inspections, corrective work, preventive maintenance, and performance monitoring through warranty expiration.
"""
enum ScopeOfWorkEnum {
  BUILDING_ENVELOPE
  COMMISSIONING_STARTUP
  DEMOBILIZATION_CLOSE_OUT
  FOUNDATIONS
  INTERIOR_BUILD_OUT
  MEP
  SITE_CIVIL
  SPECIALTY_SYSTEMS
  STRUCTURAL_FRAME
  WARRANTY_SERVICES
}

type SearchDocument {
  collection: SearchableCollectionType!
  createdAt: String!
  documentId: String!
  documentType: String!
  id: ID!
  metadata: JSON!
  subtitle: String
  title: String!
  updatedAt: String!
  workspaceId: String!
}

type SearchDocumentsResult {
  documents: [SearchDocument!]!
  page: PaginationInfo!
  total: Int!
}

type SearchUserState {
  createdAt: String!
  favorites: [SearchUserStateFavorite!]!
  id: ID!
  recents: [SearchUserStateRecent!]!
  updatedAt: String!
  userId: String!
  workspaceId: String!
}

type SearchUserStateFavorite {
  addedAt: String!
  searchDocument: SearchDocument
  searchDocumentId: String!
}

type SearchUserStateRecent {
  accessedAt: String!
  searchDocument: SearchDocument
  searchDocumentId: String!
}

"""Collections that can be searched"""
enum SearchableCollectionType {
  contacts
  invoices
  notes
  projects
  purchase_orders
  sales_orders
}

input SendQuoteInput {
  quoteId: String!
  revisionId: String!
}

type SendTemplatedEmailResult {
  error: String
  message: String
  success: Boolean!
}

type SendTestEmailResult {
  error: String
  message: String
  success: Boolean!
}

type SequenceNumber {
  companyId: String @deprecated(reason: "Use workspaceId instead")
  createdAt: DateTime!
  createdBy: String!
  deleted: Boolean!
  id: String!
  template: ReferenceNumberTemplate
  templateId: String
  type: ReferenceNumberType!
  updatedAt: DateTime!
  updatedBy: String!
  value: Int!
  workspaceId: String!
}

type ServiceFulfilment implements FulfilmentBase {
  assignedTo: User
  assignedToId: ID
  companyId: ID @deprecated(reason: "CompanyId is deprecated and will be removed in future versions. Use workspaceId instead.")
  contact: Contact
  contactId: ID
  createdAt: DateTime!
  id: ID!
  pimCategory: PimCategory
  pimCategoryId: ID
  pimCategoryName: String
  pimCategoryPath: String
  pimProduct: PimProduct
  pimProductId: ID
  price: Price
  priceId: ID
  priceName: String
  project: Project
  projectId: ID
  purchaseOrderLineItem: PurchaseOrderLineItem
  purchaseOrderLineItemId: ID
  purchaseOrderNumber: String!
  salesOrder: SalesOrder
  salesOrderId: ID!
  salesOrderLineItem: SalesOrderLineItem
  salesOrderLineItemId: ID!
  salesOrderPONumber: String
  salesOrderType: FulfilmentType!
  serviceDate: DateTime
  unitCostInCents: Int!
  updatedAt: DateTime!
  workflowColumnId: ID
  workflowId: ID
  workspaceId: ID!
}

type ServiceTask {
  completed: Boolean
  taskDetails: String
}

type ServiceTransaction implements BaseTransaction {
  assignee: String
  comments: [Comment!]
  costInCents: Int
  createdAt: DateTime
  createdBy: ID
  history: [TransactionLogEntry]
  id: ID!
  lastUpdatedBy: ID
  location: String
  notes: String
  projectId: ID
  statusId: ID
  tasks: [ServiceTask!]
  type: TransactionType
  updatedAt: DateTime
  workflowId: ID
  workspaceId: ID
}

enum ServiceTransactionTypes {
  CUSTOM
  HAULING
  MAINTENANCE
}

input SetInvoiceTaxInput {
  invoiceId: String!
  taxPercent: Float!
}

type SignedUploadUrl {
  key: String!
  url: String!
}

type SpiceDBObjectReference {
  id: String!
  type: String!
}

type SpiceDBRelationship {
  relation: String!
  resource: SpiceDBObjectReference!
  subject: SpiceDBSubjectReference!
}

type SpiceDBSubjectReference {
  id: String!
  relation: String
  type: String!
}

type SubmissionSalesOrder {
  created_at: String!
  deleted_at: DateTime
  id: String!
  project: IntakeFormProject
  project_id: String
  purchase_order_number: String
  sales_order_number: String!

  """Status of the sales order"""
  status: SalesOrderStatus!
  updated_at: String!
  workspace_id: String
}

type Subscription {
  """
  Subscribe to current server time updates (emitted every 5 seconds, for educational purposes)
  """
  currentTime: CurrentTimeEvent
}

enum SupportedContentType {
  APPLICATION_PDF
  IMAGE_JPEG
  IMAGE_PNG
  TEXT_CSV
}

type TaxAnalysisResult {
  taxes: [TaxObligation!]!
}

type TaxLineItem {
  calculatedAmountInCents: Int
  description: String!
  id: ID!
  order: Int!
  type: TaxType!
  value: Float!
}

type TaxObligation {
  description: String!
  order: Int!
  reason: String!
  type: TaxType!
  value: Float!
}

enum TaxType {
  FIXED_AMOUNT
  PERCENTAGE
}

type TouchAllContactsResult {
  touched: Int!
}

union Transaction = RentalTransaction | SaleTransaction | ServiceTransaction

input TransactionInput {
  projectId: ID
  type: TransactionType!
  workspaceId: ID!
}

type TransactionLogEntry {
  action: String
  col: String
  newValue: String
  oldValue: String
  userId: ID
}

type TransactionStatus {
  colourCode: String
  id: ID
  name: String
  type: TransactionStatusType
  workflowId: ID
}

enum TransactionStatusType {
  DOING
  DONE
  TODO
}

enum TransactionType {
  RENTAL
  SALE
  SERVICE
}

input UpdateBusinessContactInput {
  accountsPayableContactId: ID
  address: String
  brandId: ID
  latitude: Float
  longitude: Float
  name: String
  notes: String
  phone: String
  placeId: String
  profilePicture: String
  resourceMapIds: [ID!]
  taxId: String
  website: String
}

input UpdateIntakeFormInput {
  isActive: Boolean
  isPublic: Boolean
  pricebookId: ID
  projectId: ID
  sharedWithEmails: [String!]
}

input UpdateIntakeFormSubmissionInput {
  companyName: String
  email: String
  name: String
  phone: String
  purchaseOrderId: String
  purchaseOrderNumber: String
  salesOrderId: String
  userId: String
}

input UpdateInventorySerialisedIdInput {
  assetId: String!
}

input UpdatePersonContactInput {
  businessId: ID
  email: String
  name: String
  notes: String
  phone: String
  profilePicture: String
  resourceMapIds: [ID!]
  role: String
}

input UpdatePurchaseOrderInput {
  id: String!
  project_id: String
  purchase_order_number: String
  seller_id: String
  workspace_id: String
}

input UpdatePurchaseOrderLineItemInput {
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!
  lineitem_status: POLineItemStatus
  lineitem_type: POLineItemType
  off_rent_date: String
  po_pim_id: String
  po_quantity: Int
  price_id: String
}

input UpdateQuoteInput {
  currentRevisionId: String
  id: String!
  sellersBuyerContactId: String
  sellersProjectId: String
  status: QuoteStatus
  validUntil: DateTime
}

input UpdateQuoteRevisionInput {
  id: String!
  lineItems: [QuoteRevisionLineItemInput!]
  validUntil: DateTime
}

input UpdateQuoteStatusInput {
  id: String!
  status: QuoteStatus!
}

input UpdateRFQInput {
  description: String
  id: String!
  invitedSellerContactIds: [String!]
  lineItems: [RFQLineItemInput!]
  responseDeadline: DateTime
  status: RFQStatus
}

input UpdateReferenceNumberTemplateInput {
  businessContactId: String
  id: String!
  projectId: String
  resetFrequency: ResetFrequency
  seqPadding: Int
  startAt: Int
  template: String
  type: ReferenceNumberType
  useGlobalSequence: Boolean
}

input UpdateRentalPriceInput {
  id: ID!
  name: String
  pimCategoryId: String
  pimProductId: ID
  pricePerDayInCents: Int
  pricePerMonthInCents: Int
  pricePerWeekInCents: Int
}

input UpdateRentalPurchaseOrderLineItemInput {
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!
  lineitem_status: POLineItemStatus
  off_rent_date: String
  po_pim_id: String
  po_quantity: Int
  price_id: String
}

input UpdateRentalSalesOrderLineItemInput {
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!
  lineitem_status: LineItemStatus
  off_rent_date: String
  price_id: String
  so_pim_id: String
  so_quantity: Int
}

input UpdateSalePriceInput {
  discounts: JSON
  id: ID!
  name: String
  pimCategoryId: String
  pimProductId: ID
  unitCostInCents: Int
}

input UpdateSalePurchaseOrderLineItemInput {
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!
  lineitem_status: POLineItemStatus
  po_pim_id: String
  po_quantity: Int
  price_id: String
}

input UpdateSaleSalesOrderLineItemInput {
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!
  lineitem_status: LineItemStatus
  price_id: String
  so_pim_id: String
  so_quantity: Int
}

input UpdateSalesOrderInput {
  buyer_id: String
  id: String!
  project_id: String
  purchase_order_number: String
  sales_order_number: String
  workspace_id: String
}

input UpdateSalesOrderLineItemInput {
  deliveryNotes: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!
  lineitem_status: LineItemStatus
  lineitem_type: LineItemType
  off_rent_date: String
  price_id: String
  so_pim_id: String
  so_quantity: Int
}

input UpdateTaxLineItemInput {
  description: String
  invoiceId: ID!
  order: Int
  taxLineItemId: ID!
  type: TaxType
  value: Float
}

input UpdateWorkflowConfigurationInput {
  columns: [WorkflowColumnInput!]!
  name: String
}

input UpsertPimCategoryInput {
  description: String!
  has_products: Boolean!
  id: ID!
  name: String!
  path: String!
  platform_id: String!
}

type User {
  companyId: String!
  email: String!
  firstName: String!
  id: String!
  lastLoginLocation: UserLocationInfo
  lastName: String!
  picture: String
}

type UserLocationInfo {
  city: String
  countryCode: String
  countryName: String
  latitude: Float
  longitude: Float
  timezone: String
}

type UserPermission {
  permissionMap: UserPermissionMap!
  permissions: [PermissionType!]!
  resourceId: String!
  resourceType: ResourceType!
}

type UserPermissionMap {
  ERP_CHARGE_DELETE: Boolean
  ERP_CHARGE_READ: Boolean
  ERP_CHARGE_UPDATE: Boolean
  ERP_CONTACT_DELETE: Boolean
  ERP_CONTACT_READ: Boolean
  ERP_CONTACT_UPDATE: Boolean
  ERP_DOMAIN_IS_MEMBER: Boolean
  ERP_FILE_DELETE: Boolean
  ERP_FILE_READ: Boolean
  ERP_FILE_UPDATE: Boolean
  ERP_FULFILMENT_DELETE: Boolean
  ERP_FULFILMENT_MANAGE_RENTAL_PERIOD: Boolean
  ERP_FULFILMENT_READ: Boolean
  ERP_FULFILMENT_UPDATE: Boolean
  ERP_INTAKE_FORM_CREATE_SUBMISSION: Boolean
  ERP_INTAKE_FORM_READ: Boolean
  ERP_INTAKE_FORM_READ_SUBMISSIONS: Boolean
  ERP_INTAKE_FORM_SUBMISSION_READ: Boolean
  ERP_INTAKE_FORM_SUBMISSION_UPDATE: Boolean
  ERP_INTAKE_FORM_UPDATE: Boolean
  ERP_INTAKE_FORM_UPDATE_SUBMISSIONS: Boolean
  ERP_INVOICE_READ: Boolean
  ERP_INVOICE_UPDATE: Boolean
  ERP_PLATFORM_IS_ADMIN: Boolean
  ERP_PRICEBOOK_PRICE_READ: Boolean
  ERP_PRICEBOOK_PRICE_UPDATE: Boolean
  ERP_PRICEBOOK_READ: Boolean
  ERP_PRICEBOOK_UPDATE: Boolean
  ERP_PROJECT_READ: Boolean
  ERP_PROJECT_UPDATE: Boolean
  ERP_PURCHASE_ORDER_READ: Boolean
  ERP_PURCHASE_ORDER_UPDATE: Boolean
  ERP_QUOTE_ACCEPT: Boolean
  ERP_QUOTE_READ: Boolean
  ERP_QUOTE_REJECT: Boolean
  ERP_QUOTE_UPDATE: Boolean
  ERP_RFQ_READ: Boolean
  ERP_RFQ_UPDATE: Boolean
  ERP_SALES_ORDER_PORTAL_ACCESS: Boolean
  ERP_SALES_ORDER_READ: Boolean
  ERP_SALES_ORDER_UPDATE: Boolean
  ERP_WORKSPACE_ADD_USER: Boolean
  ERP_WORKSPACE_CAN_JOIN: Boolean
  ERP_WORKSPACE_CAN_MANAGE_CHARGES: Boolean
  ERP_WORKSPACE_CAN_MANAGE_CONTACTS: Boolean
  ERP_WORKSPACE_CAN_MANAGE_FILES: Boolean
  ERP_WORKSPACE_CAN_MANAGE_INTAKE_FORMS: Boolean
  ERP_WORKSPACE_CAN_MANAGE_INTAKE_FORM_SUBMISSIONS: Boolean
  ERP_WORKSPACE_CAN_MANAGE_INVOICES: Boolean
  ERP_WORKSPACE_CAN_MANAGE_PRICES: Boolean
  ERP_WORKSPACE_CAN_MANAGE_PRICE_BOOKS: Boolean
  ERP_WORKSPACE_CAN_MANAGE_PROJECTS: Boolean
  ERP_WORKSPACE_CAN_MANAGE_PURCHASE_ORDERS: Boolean
  ERP_WORKSPACE_CAN_MANAGE_QUOTES: Boolean
  ERP_WORKSPACE_CAN_MANAGE_REFERENCE_NUMBER_TEMPLATES: Boolean
  ERP_WORKSPACE_CAN_MANAGE_RFQS: Boolean
  ERP_WORKSPACE_CAN_MANAGE_SALES_ORDERS: Boolean
  ERP_WORKSPACE_CAN_READ_CHARGES: Boolean
  ERP_WORKSPACE_CAN_READ_CONTACTS: Boolean
  ERP_WORKSPACE_CAN_READ_FILES: Boolean
  ERP_WORKSPACE_CAN_READ_INVOICES: Boolean
  ERP_WORKSPACE_CAN_READ_PROJECTS: Boolean
  ERP_WORKSPACE_CAN_READ_PURCHASE_ORDERS: Boolean
  ERP_WORKSPACE_CAN_READ_QUOTES: Boolean
  ERP_WORKSPACE_CAN_READ_REFERENCE_NUMBER_TEMPLATES: Boolean
  ERP_WORKSPACE_CAN_READ_RFQS: Boolean
  ERP_WORKSPACE_CAN_READ_SALES_ORDERS: Boolean
  ERP_WORKSPACE_CREATE_INTAKE_FORM: Boolean
  ERP_WORKSPACE_CREATE_INTAKE_FORM_SUBMISSION: Boolean
  ERP_WORKSPACE_CREATE_PRICE_BOOK: Boolean
  ERP_WORKSPACE_IS_ADMIN: Boolean
  ERP_WORKSPACE_MANAGE: Boolean
  ERP_WORKSPACE_READ: Boolean
  ERP_WORKSPACE_READ_INTAKE_FORMS: Boolean
  ERP_WORKSPACE_READ_INTAKE_FORM_SUBMISSIONS: Boolean
  ERP_WORKSPACE_READ_PRICES: Boolean
  ERP_WORKSPACE_READ_PRICE_BOOKS: Boolean
  ERP_WORKSPACE_REMOVE_USER: Boolean
  ERP_WORKSPACE_UPDATE_USER_ROLES: Boolean
}

input UserUpsertInput {
  auth0UserId: String
  companyId: String
  deleted: Boolean
  email: String!
  emailVerified: Boolean
  esUserId: String
  firstName: String!
  lastName: String!
  picture: String
  username: String
}

type ValidEnterpriseDomainResult {
  domain: String!
  isValid: Boolean!
  reason: String
}

type Workflow {
  id: ID
  name: String
  statuses: [TransactionStatus!]
}

type WorkflowColumn {
  colour: String
  id: String!
  name: String!
}

input WorkflowColumnInput {
  colour: String
  id: String!
  name: String!
}

type WorkflowConfiguration {
  columns: [WorkflowColumn!]!
  companyId: String!
  createdAt: DateTime!
  createdBy: String!
  createdByUser: User
  deletedAt: DateTime
  deletedBy: String
  id: ID!
  name: String!
  updatedAt: DateTime!
  updatedBy: String!
  updatedByUser: User
}

type Workspace {
  accessType: WorkspaceAccessType
  archived: Boolean
  archivedAt: String
  bannerImageUrl: String
  brandId: String
  companyId: Int
  createdAt: String
  createdBy: String
  description: String
  domain: String
  id: ID!
  logoUrl: String
  name: String!
  ownerId: String
  updatedAt: String
  updatedBy: String
}

enum WorkspaceAccessType {
  INVITE_ONLY
  SAME_DOMAIN
}

type WorkspaceMember {
  roles: [WorkspaceUserRole!]!
  user: User
  userId: String!
}

type WorkspaceRoleInfo {
  description: String
  label: String
  role: WorkspaceUserRole!
}

"""
Roles a user can have in a workspace (auto-generated from SpiceDB schema)
"""
enum WorkspaceUserRole {
  admin
  all_resources_reader
  charge_manager
  charge_reader
  contact_manager
  contact_reader
  file_manager
  file_reader
  intake_form_submissions_manager
  intake_form_submissions_reader
  intake_forms_manager
  intake_forms_reader
  invoice_manager
  invoice_reader
  member
  price_books_manager
  price_books_reader
  project_manager
  project_reader
  purchase_order_manager
  purchase_order_reader
  quotes_manager
  quotes_reader
  rfqs_manager
  rfqs_reader
  sales_order_manager
  sales_order_reader
}

type WriteRelationshipResult {
  message: String

  """The created/updated relationship"""
  relationship: SpiceDBRelationship
  success: Boolean!
}