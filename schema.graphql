type Asset {
  category: AssetCategory
  class: AssetClass
  company: AssetCompany
  company_id: String
  custom_name: String
  description: String
  details: AssetDetails
  groups: [AssetGroup]
  id: String
  inventory_branch: AssetInventoryBranch
  keypad: [String]
  msp_branch: AssetMspBranch
  name: String
  photo: AssetPhoto
  photo_id: String
  pim_category_id: String
  pim_category_name: String
  pim_category_path: String
  pim_make: String
  pim_make_id: String
  pim_product_id: String
  pim_product_model: String
  pim_product_name: String
  pim_product_platform_id: String
  pim_product_variant: String
  pim_product_year: String
  rsp_branch: AssetRspBranch
  tracker: AssetTracker
  tsp_companies: [AssetTspCompany]
  type: AssetType
}

type AssetCategory {
  category_id: String
  composite: String
  level_1: String
  level_2: String
  level_3: String
}

type AssetClass {
  description: String
  id: String
  name: String
}

type AssetCompany {
  id: String
  name: String
}

type AssetDetails {
  asset_id: String
  camera_id: String
  custom_name: String
  description: String
  driver_name: String
  model: String
  name: String
  photo_id: String
  serial_number: String
  tracker_id: String
  vin: String
  year: String
}

type AssetGroup {
  company_id: String
  company_name: String
  id: String
  name: String
}

type AssetInventoryBranch {
  company_id: String
  company_name: String
  description: String
  id: String
  name: String
}

type AssetMspBranch {
  company_id: String
  company_name: String
  description: String
  id: String
  name: String
}

type AssetPhoto {
  filename: String
  photo_id: String
}

type AssetRspBranch {
  company_id: String
  company_name: String
  description: String
  id: String
  name: String
}

type AssetSchedule {
  asset_id: String!
  company_id: String!
  created_at: String!
  created_by: String!
  end_date: String!
  id: String!
  project_id: String!
  start_date: String!
  updated_at: String!
  updated_by: String!
}

input AssetScheduleInput {
  asset_id: String!
  end_date: String!
  project_id: String!
  start_date: String!
}

type AssetScheduleListResult {
  items: [AssetSchedule!]!
  limit: Int!
  offset: Int!
  total: Int!
}

type AssetTracker {
  company_id: String
  created: String
  device_serial: String
  id: String
  tracker_type_id: String
  updated: String
  vendor_id: String
}

type AssetTspCompany {
  company_id: String
  company_name: String
}

type AssetType {
  id: String
  name: String
}

interface BaseTransaction {
  comments: [Comment!]
  createdAt: DateTime
  createdBy: ID
  history: [TransactionLogEntry]
  id: ID!
  lastUpdatedBy: ID
  notes: String
  projectId: ID
  quotes: [Quote!]
  statusId: ID
  type: TransactionType
  updatedAt: DateTime
  workflowId: ID
  workspaceId: ID
}

"""
The `BigInt` scalar type represents non-fractional signed whole numeric values.
"""
scalar BigInt

type BusinessContact {
  accountsPayableContactId: String
  address: String
  contactType: ContactType!
  createdAt: DateTime!
  createdBy: String!
  employees: ListPersonContactsResult
  id: ID!
  name: String!
  notes: String
  phone: String
  profilePicture: String
  resourceMapIds: [String!]
  resource_map_entries: [ResourceMapResource!]!
  taxId: String
  updatedAt: DateTime!
  website: String
  workspaceId: String!
}

input BusinessContactInput {
  accountsPayableContactId: ID
  address: String
  name: String!
  notes: String
  phone: String
  profilePicture: String
  resourceMapIds: [ID!]
  taxId: String
  website: String
  workspaceId: String!
}

type Comment {
  id: ID
}

type Company {
  id: String!
  name: String!
}

union Contact = BusinessContact | PersonContact

enum ContactType {
  BUSINESS
  PERSON
}

type CreatePdfResult {
  error_message: String
  success: Boolean!
}

input CreatePriceBookInput {
  businessContactId: ID
  isDefault: Boolean
  location: String
  name: String!
  notes: String
  parentPriceBookId: ID

  """Percentage factor for the parent price book"""
  parentPriceBookPercentageFactor: Float = 1
  projectId: ID
}

input CreatePurchaseOrderLineItemInput {
  po_pim_id: String
  po_quantity: Int
  purchase_order_id: String!
}

input CreateRentalPriceInput {
  name: String
  pimCategoryId: String!
  pimProductId: ID
  priceBookId: ID
  pricePerDayInCents: Int!
  pricePerMonthInCents: Int!
  pricePerWeekInCents: Int!
}

input CreateRentalSalesOrderLineItemInput {
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  lineitem_status: LineItemStatus
  off_rent_date: String
  price_id: String
  price_per_day_in_cents: Int
  price_per_month_in_cents: Int
  price_per_week_in_cents: Int
  sales_order_id: String!
  so_pim_id: String
  so_quantity: Int
  unit_cost_in_cents: Int
}

input CreateSalePriceInput {
  discounts: JSON
  name: String
  pimCategoryId: String!
  pimProductId: ID
  priceBookId: ID
  unitCostInCents: Int!
}

input CreateSaleSalesOrderLineItemInput {
  lineitem_status: LineItemStatus
  price_id: String
  sales_order_id: String!
  so_pim_id: String
  so_quantity: Int
  unit_cost_in_cents: Int
}

"""
A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar Date

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar DateTime

enum DeliveryMethod {
  DELIVERY
  PICKUP
}

type File {
  comments: [Note!]!
  created_at: String!
  created_by: String!
  created_by_user: User
  deleted: Boolean!
  file_key: String!
  file_name: String!
  file_size: Int!
  id: String!
  metadata: JSON
  mime_type: String!
  parent_entity_id: String!
  updated_at: String!
  updated_by: String!
  updated_by_user: User
  url: String!
}

type HasuraClaims {
  x_hasura_allowed_roles: [String]
  x_hasura_default_role: String
  x_hasura_user_id: String
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

"""
The `JSONObject` scalar type represents JSON objects as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSONObject

type JWTPayload {
  aud: [String]
  azp: String
  es_company_id: String
  es_roles: [String]
  es_security_level_id: String
  es_user_email: String
  es_user_id: String
  es_user_name: String
  exp: Int
  hasura_claims: HasuraClaims
  iat: Int
  is_federated: Boolean
  iss: String
  permissions: [String]
  scope: String
  sub: String
}

type LineItemCostOptionDetails {
  exactSplitDistribution: LineItemRentalPeriod!
  optimalSplit: LineItemRentalPeriod!
  plainText: String!
  rates: LineItemPricing!
}

type LineItemPriceForecast {
  accumulative_cost_in_cents: Int!
  days: [LineItemPriceForecastDay!]!
}

type LineItemPriceForecastDay {
  accumulative_cost_in_cents: Int!
  cost_in_cents: Int!
  day: Int!
  details: LineItemCostOptionDetails!
  rental_period: LineItemRentalPeriod!
  savings_compared_to_day_rate_in_cents: Int!
  savings_compared_to_day_rate_in_fraction: Float!
  savings_compared_to_exact_split_in_cents: Int!
  strategy: String!
}

type LineItemPricing {
  pricePer1DayInCents: Int!
  pricePer7DaysInCents: Int!
  pricePer28DaysInCents: Int!
}

type LineItemRentalPeriod {
  days1: Int!
  days7: Int!
  days28: Int!
}

enum LineItemStatus {
  DRAFT
  SUBMITTED
}

enum LineItemType {
  RENTAL
  SALE
}

input ListAssetsPage {
  number: Int = 1
  size: Int = 10
}

type ListAssetsResult {
  items: [Asset!]!
  page: PaginationInfo!
}

input ListContactsFilter {
  contactType: ContactType
  workspaceId: String!
}

input ListContactsPage {
  number: Int = 1
  size: Int = 10
}

type ListContactsResult {
  items: [Contact!]!
  page: PaginationInfo!
}

type ListPersonContactsResult {
  items: [PersonContact!]!
  page: PaginationInfo!
}

input ListPimCategoriesPage {
  number: Int = 1
  size: Int = 10
}

type ListPimCategoriesResult {
  items: [PimCategory!]!
  page: PaginationInfo!
}

input ListPimProductsFilter {
  pimCategoryPlatformId: ID
}

input ListPimProductsPage {
  number: Int = 1
  size: Int = 10
}

type ListPimProductsResult {
  items: [PimProduct!]!
  page: PaginationInfo!
}

input ListPriceBooksPage {
  number: Int! = 1
  size: Int! = 10
}

type ListPriceBooksResult {
  items: [PriceBook!]!
  page: PaginationInfo!
}

input ListPricesFilter {
  name: String
  pimCategoryId: String
  priceBookId: String
  priceType: PriceType
}

input ListPricesPage {
  number: Int! = 1
  size: Int! = 10
}

type ListPricesResult {
  items: [Price!]!
  page: PaginationInfo!
}

type ListTransactionResult {
  items: [Transaction!]!
  page: PaginationInfo!
}

type ListWorkspacesResult {
  items: [Workspace!]!
  page: PaginationInfo!
}

type Mutation {
  addFileToEntity(file_key: String!, file_name: String!, metadata: JSON, parent_entity_id: String!): File!
  createAssetSchedule(input: AssetScheduleInput): AssetSchedule
  createBusinessContact(input: BusinessContactInput!): BusinessContact
  createNote(input: NoteInput!): Note

  """Generate and save a PDF for an entity by path and entity_id"""
  createPdfFromPageAndAttachToEntityId(entity_id: String!, file_name: String, path: String!): CreatePdfResult
  createPersonContact(input: PersonContactInput!): PersonContact
  createPriceBook(input: CreatePriceBookInput!): PriceBook
  createProject(input: ProjectInput): Project
  createPurchaseOrder(input: PurchaseOrderInput): PurchaseOrder
  createPurchaseOrderLineItem(input: CreatePurchaseOrderLineItemInput): PurchaseOrderLineItem
  createRentalPrice(input: CreateRentalPriceInput!): RentalPrice
  createRentalSalesOrderLineItem(input: CreateRentalSalesOrderLineItemInput): RentalSalesOrderLineItem
  createSalePrice(input: CreateSalePriceInput!): SalePrice
  createSaleSalesOrderLineItem(input: CreateSaleSalesOrderLineItemInput): SaleSalesOrderLineItem
  createSalesOrder(input: SalesOrderInput): SalesOrder
  createTransaction(input: TransactionInput!): Transaction
  deleteContactById(id: ID!): Boolean
  deleteNote(id: String!): Note
  deletePriceBookById(id: ID!): Boolean
  deletePriceById(id: ID!): Boolean
  deleteProject(id: String!): Project
  removeFileFromEntity(file_id: String!): File!
  softDeleteSalesOrderLineItem(id: String): SalesOrderLineItem
  updateBusinessAddress(address: String!, id: ID!): BusinessContact
  updateBusinessContact(id: ID!, input: UpdateBusinessContactInput!): BusinessContact
  updateBusinessName(id: ID!, name: String!): BusinessContact
  updateBusinessPhone(id: ID!, phone: String!): BusinessContact
  updateBusinessTaxId(id: ID!, taxId: String!): BusinessContact
  updateBusinessWebsite(id: ID!, website: String!): BusinessContact
  updateNote(id: String!, value: JSON!): Note
  updatePersonBusiness(businessId: ID!, id: ID!): PersonContact
  updatePersonContact(id: ID!, input: UpdatePersonContactInput!): PersonContact
  updatePersonEmail(email: String!, id: ID!): PersonContact
  updatePersonName(id: ID!, name: String!): PersonContact
  updatePersonPhone(id: ID!, phone: String!): PersonContact
  updatePersonResourceMap(id: ID!, resourceMapIds: [ID!]!): PersonContact
  updatePersonRole(id: ID!, role: String!): PersonContact
  updateProject(id: String, input: ProjectInput): Project
  updateProjectCode(id: String!, project_code: String!): Project
  updateProjectContacts(id: String!, project_contacts: [ProjectContactInput!]!): Project
  updateProjectDescription(description: String, id: String!): Project
  updateProjectName(id: String!, name: String!): Project
  updateProjectParentProject(id: String!, parent_project: String): Project
  updateProjectScopeOfWork(id: String!, scope_of_work: [ScopeOfWorkEnum!]!): Project
  updateProjectStatus(id: String!, status: ProjectStatusEnum): Project
  updatePurchaseOrderLineItem(input: UpdatePurchaseOrderLineItemInput): PurchaseOrderLineItem
  updateRentalSalesOrderLineItem(input: UpdateRentalSalesOrderLineItemInput): RentalSalesOrderLineItem
  updateSalesOrderLineItem(input: UpdateSalesOrderLineItemInput): SalesOrderLineItem
}

type Note {
  _id: String!
  company_id: String!
  created_at: DateTime!
  created_by: String!
  created_by_user: User
  deleted: Boolean!
  parent_entity_id: String!
  sub_notes: [Note!]!
  updated_at: DateTime!
  updated_by: String!
  value: JSON!
}

input NoteInput {
  parent_entity_id: String!
  value: JSON!
}

input NoteUpdateInput {
  id: String!
  value: JSON!
}

type PaginationInfo {
  number: Int!
  size: Int!
  totalItems: Int!
  totalPages: Int!
}

enum PaginationOrder {
  ASC
  DESC
}

type PersonContact {
  business: BusinessContact
  businessId: String!
  contactType: ContactType!
  createdAt: DateTime!
  createdBy: String!
  email: String!
  id: ID!
  name: String!
  notes: String
  phone: String
  profilePicture: String
  resourceMapIds: [String!]
  resource_map_entries: [ResourceMapResource!]!
  role: String
  updatedAt: DateTime!
  workspaceId: String!
}

input PersonContactInput {
  businessId: ID!
  email: String!
  name: String!
  notes: String
  phone: String
  profilePicture: String
  resourceMapIds: [ID!]
  role: String!
  workspaceId: String!
}

type PimCategory {
  description: String
  has_products: Boolean
  id: String!
  is_deleted: Boolean
  name: String!
  path: String!
  platform_id: String!
  tenant_id: String!
}

type PimProduct {
  id: String
  is_deleted: Boolean
  make: String
  manufacturer_part_number: String
  model: String
  name: String
  pim_category_id: String
  pim_category_path: String
  pim_category_platform_id: String
  pim_product_id: String
  sku: String
  tenant_id: String
  upc: String
  year: String
}

union Price = RentalPrice | SalePrice

type PriceBook {
  businessContact: BusinessContact
  businessContactId: ID
  comments: [Note!]!
  companyId: String!
  createdAt: DateTime!
  createdBy: String!
  createdByUser: User
  id: ID!
  isDefault: Boolean! @deprecated(reason: "soon to be removed")
  listPrices(filter: ListPricesFilter, page: ListPricesPage!): ListPricesResult
  location: String
  name: String!
  notes: String
  parentPriceBook: PriceBook
  parentPriceBookId: ID
  parentPriceBookPercentageFactor: Float
  project: Project
  projectId: ID
  updatedAt: DateTime!
  updatedBy: String!
  updatedByUser: User
}

enum PriceType {
  RENTAL
  SALE
}

type Project {
  comments: [Note!]!
  company: Company
  companyId: String!
  created_at: String!
  created_by: String!
  created_by_user: User
  deleted: Boolean!
  description: String
  id: String!
  name: String!
  parent_project: String
  project_code: String!

  """
  Contacts associated with the project and their relation to the project.
  """
  project_contacts: [ProjectContact!]

  """
  Project scope of work. Allowed values: SITE_CIVIL, FOUNDATIONS, STRUCTURAL_FRAME, BUILDING_ENVELOPE, INTERIOR_BUILD_OUT, MEP, SPECIALTY_SYSTEMS, COMMISSIONING_STARTUP, DEMOBILIZATION_CLOSE_OUT, WARRANTY_SERVICES
  """
  scope_of_work: [ScopeOfWorkEnum]

  """
  Project status. Allowed values: CONCEPT_OPPORTUNITY, BIDDING_TENDERING, PRE_CONSTRUCTION, MOBILIZATION, ACTIVE_CONSTRUCTION, SUBSTANTIAL_COMPLETION, CLOSE_OUT, WARRANTY_MAINTENANCE, ARCHIVED_CLOSED
  """
  status: ProjectStatusEnum

  """List of sub-projects (children) for this project."""
  sub_projects: [Project]
  updated_at: String!
  updated_by: String!
  updated_by_user: User
}

type ProjectContact {
  contact: Contact
  contact_id: String!
  relation_to_project: ProjectContactRelationEnum!
}

input ProjectContactInput {
  contact_id: String!
  relation_to_project: ProjectContactRelationEnum!
}

type ProjectContactRelationCode {
  code: String!
  description: String!
}

"""
Project contact relation to project. Allowed values:
- PROJECT_MANAGER_GC: Project Manager (GC)
- SITE_SUPERINTENDENT: Site Superintendent
- OWNERS_REPRESENTATIVE: Owner’s Representative
- ARCHITECT_ENGINEER_OF_RECORD: Architect / Engineer of Record
- SAFETY_MANAGER: Safety Manager
- EQUIPMENT_RENTAL_COORDINATOR: Equipment / Rental Coordinator
"""
enum ProjectContactRelationEnum {
  ARCHITECT_ENGINEER_OF_RECORD
  EQUIPMENT_RENTAL_COORDINATOR
  OWNERS_REPRESENTATIVE
  PROJECT_MANAGER_GC
  SAFETY_MANAGER
  SITE_SUPERINTENDENT
}

input ProjectInput {
  deleted: Boolean!
  description: String
  name: String!

  """Optional referential id to a parent project"""
  parent_project: String
  project_code: String!

  """
  Contacts associated with the project and their relation to the project.
  """
  project_contacts: [ProjectContactInput!]

  """
  Project scope of work. Allowed values: SITE_CIVIL, FOUNDATIONS, STRUCTURAL_FRAME, BUILDING_ENVELOPE, INTERIOR_BUILD_OUT, MEP, SPECIALTY_SYSTEMS, COMMISSIONING_STARTUP, DEMOBILIZATION_CLOSE_OUT, WARRANTY_SERVICES
  """
  scope_of_work: [ScopeOfWorkEnum]

  """
  Project status. Allowed values: CONCEPT_OPPORTUNITY, BIDDING_TENDERING, PRE_CONSTRUCTION, MOBILIZATION, ACTIVE_CONSTRUCTION, SUBSTANTIAL_COMPLETION, CLOSE_OUT, WARRANTY_MAINTENANCE, ARCHIVED_CLOSED
  """
  status: ProjectStatusEnum
}

type ProjectStatusCode {
  code: String!
  description: String!
}

"""
Project status. Allowed values:
- CONCEPT_OPPORTUNITY: CONCEPT / OPPORTUNITY
- BIDDING_TENDERING: BIDDING / TENDERING
- PRE_CONSTRUCTION: PRE‑CONSTRUCTION
- MOBILIZATION: MOBILIZATION
- ACTIVE_CONSTRUCTION: ACTIVE CONSTRUCTION
- SUBSTANTIAL_COMPLETION: SUBSTANTIAL COMPLETION
- CLOSE_OUT: CLOSE‑OUT
- WARRANTY_MAINTENANCE: WARRANTY / MAINTENANCE
- ARCHIVED_CLOSED: ARCHIVED / CLOSED
"""
enum ProjectStatusEnum {
  ACTIVE_CONSTRUCTION
  ARCHIVED_CLOSED
  BIDDING_TENDERING
  CLOSE_OUT
  CONCEPT_OPPORTUNITY
  MOBILIZATION
  PRE_CONSTRUCTION
  SUBSTANTIAL_COMPLETION
  WARRANTY_MAINTENANCE
}

type PurchaseOrder {
  buyer_contact: Contact
  buyer_contact_id: String
  buyer_project_id: String
  comments: [Note!]!
  company_id: String
  created_at: String
  created_by: String
  created_by_user: User
  files: [File]
  id: String!
  line_items: [PurchaseOrderLineItem]
  po_issue_date: String
  po_number: String
  project: Project
  project_id: String
  requester_contact: Contact
  requester_contact_id: String
  seller_contact: Contact
  seller_contact_id: String
  updated_at: String
  updated_by: String
  updated_by_user: User
}

input PurchaseOrderInput {
  buyer_contact_id: String
  buyer_project_id: String
  po_issue_date: String
  project_id: String
  requester_contact_id: String
  seller_contact_id: String
}

type PurchaseOrderLineItem {
  id: String!
  pim_product: PimProduct
  po_pim_id: String
  po_quantity: Int
}

input PurchaseOrderLineItemInput {
  po_line_item_number: String
  po_pim_id: String
  po_quantity: Int
}

type PurchaseOrderListResult {
  items: [PurchaseOrder!]!
  limit: Int!
  offset: Int!
  total: Int!
}

type Query {
  currentUser: JWTPayload
  getContactById(id: ID!): Contact
  getPimCategoryById(id: ID!): PimCategory
  getPimProductById(id: ID!): PimProduct
  getPriceBookById(id: ID!): PriceBook
  getProjectById(id: String!): Project
  getPurchaseOrderById(id: String): PurchaseOrder

  """Get a single resource map entry by id, with tenant check"""
  getResourceMapEntry(id: String!): ResourceMapResource
  getSalesOrderById(id: String): SalesOrder
  getSalesOrderLineItemById(id: String): SalesOrderLineItem
  getSignedUploadUrl(contentType: SupportedContentType!, originalFilename: String): SignedUploadUrl!
  helloWorld: String
  listAssetSchedules(asset_id: String, limit: Int = 20, offset: Int = 0, project_id: String): AssetScheduleListResult
  listAssets(page: ListAssetsPage): ListAssetsResult
  listContacts(filter: ListContactsFilter!, page: ListContactsPage): ListContactsResult
  listFilesByEntityId(parent_entity_id: String!): [File!]!
  listNotesByEntityId(parent_entity_id: String!): [Note!]!
  listPimCategories(page: ListPimCategoriesPage): ListPimCategoriesResult
  listPimProducts(filter: ListPimProductsFilter, page: ListPimProductsPage): ListPimProductsResult
  listPriceBookCategories(priceBookId: String): [PimCategory!]!
  listPriceBooks(page: ListPriceBooksPage!): ListPriceBooksResult
  listPriceNames(pimCategoryId: String, priceBookId: String): [String!]!
  listPrices(filter: ListPricesFilter, page: ListPricesPage!): ListPricesResult

  """
  Lists all possible project contact relation codes and their descriptions.
  """
  listProjectContactRelationCodes: [ProjectContactRelationCode]

  """
  Lists all possible project status codes and their descriptions, including recommended usage and stage meaning.
  """
  listProjectStatusCodes: [ProjectStatusCode]
  listProjects: [Project]
  listProjectsByParentProjectId(parent_project: String!): [Project]
  listPurchaseOrders(limit: Int = 20, offset: Int = 0): PurchaseOrderListResult

  """
  Get all resource map entries filtered by tenant_id (from the calling user company id)
  """
  listResourceMapEntries: [ResourceMapResource]

  """List resource map entities by parent_id (with tenant scoping)"""
  listResourceMapEntriesByParentId(parent_id: String!): [ResourceMapResource]
  listSalesOrders(limit: Int = 20, offset: Int = 0): SalesOrderListResult

  """
  Lists all possible scope_of_work codes and their descriptions, including recommended usage and stage meaning.
  """
  listScopeOfWorkCodes: [ScopeOfWorkCode]

  """Lists all top-level projects (where parent_project is null)."""
  listTopLevelProjects: [Project]
  listTransactions(workspaceId: ID!): ListTransactionResult!
  listWorkspaces: ListWorkspacesResult!
}

type Quote {
  id: ID
  url: String
}

type RentalPrice {
  companyId: String!
  createdAt: DateTime!
  createdBy: String!
  id: ID!
  name: String
  parentPrice: Price
  parentPriceId: ID
  parentPriceIdPercentageFactor: Float
  pimCategoryId: String!
  pimCategoryName: String!
  pimCategoryPath: String!
  pimProduct: PimProduct
  pimProductId: ID
  priceBook: PriceBook
  priceBookId: ID
  pricePerDayInCents: Int!
  pricePerMonthInCents: Int!
  pricePerWeekInCents: Int!
  priceType: PriceType!
  updatedAt: DateTime!
}

type RentalSalesOrderLineItem {
  """
  Full calculated price estimate for the line item (fixed or unfixed term)
  """
  calulate_price: SalesOrderLineItemPriceEstimate
  company_id: String
  created_at: String
  created_by: String
  created_by_user: User
  deleted_at: String
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!
  lineitem_status: LineItemStatus
  lineitem_type: LineItemType!
  off_rent_date: String
  price: Price
  price_id: String
  price_per_day_in_cents: Int
  price_per_month_in_cents: Int
  price_per_week_in_cents: Int
  sales_order_id: String
  so_pim_category: PimCategory
  so_pim_id: String
  so_pim_product: PimProduct
  so_quantity: Int
  updated_at: String
  updated_by: String
  updated_by_user: User
}

type RentalTransaction implements BaseTransaction {
  assetId: ID
  comments: [Comment!]
  createdAt: DateTime
  createdBy: ID
  dropOffLocation: String
  endDate: DateTime
  history: [TransactionLogEntry]
  id: ID!
  lastUpdatedBy: ID
  notes: String
  pickUpLocation: String
  pimId: ID
  pricePerDayInCents: Int
  pricePerMonthInCents: Int
  pricePerWeekInCents: Int
  projectId: ID
  quotes: [Quote!]
  startDate: DateTime
  statusId: ID
  type: TransactionType
  updatedAt: DateTime
  workflowId: ID
  workspaceId: ID
}

type ResourceMapResource {
  children: [ResourceMapResource]
  hierarchy_id: String
  hierarchy_name: String
  id: String!
  parent: ResourceMapResource
  parent_id: String
  path: [String!]
  resource_id: String!
  tenant_id: String!
  type: String
  value: String
}

type SalePrice {
  companyId: String!
  createdAt: DateTime!
  createdBy: String!
  discounts: JSON!
  id: ID!
  name: String
  parentPrice: Price
  parentPriceId: ID
  parentPriceIdPercentageFactor: Float
  pimCategoryId: String!
  pimCategoryName: String!
  pimCategoryPath: String!
  priceBook: PriceBook
  priceBookId: ID
  priceType: PriceType!
  unitCostInCents: Int!
  updatedAt: DateTime!
}

type SaleSalesOrderLineItem {
  company_id: String
  created_at: String
  created_by: String
  created_by_user: User
  deleted_at: String
  id: String!
  lineitem_status: LineItemStatus
  lineitem_type: LineItemType!
  price: Price
  price_id: String
  sales_order_id: String
  so_pim_category: PimCategory
  so_pim_id: String
  so_pim_product: PimProduct
  so_quantity: Int
  unit_cost_in_cents: Int
  updated_at: String
  updated_by: String
  updated_by_user: User
}

type SaleTransaction implements BaseTransaction {
  comments: [Comment!]
  createdAt: DateTime
  createdBy: ID
  history: [TransactionLogEntry]
  id: ID!
  lastUpdatedBy: ID
  notes: String
  priceInCents: Int
  product: String
  projectId: ID
  quantity: Int
  quotes: [Quote!]
  statusId: ID
  type: TransactionType
  updatedAt: DateTime
  workflowId: ID
  workspaceId: ID
}

type SalesOrder {
  buyer: Contact
  buyer_id: String!
  comments: [Note!]!
  company_id: String!
  created_at: String!
  created_by: String!
  created_by_user: User
  id: String!
  line_items: [SalesOrderLineItem]
  order_id: String!

  """Pricing summary for the sales order"""
  pricing: SalesOrderPricing
  project: Project
  project_id: String
  purchase_order_number: String!
  updated_at: String!
  updated_by: String!
  updated_by_user: User
}

input SalesOrderInput {
  buyer_id: String!
  project_id: String
  purchase_order_number: String!
}

union SalesOrderLineItem = RentalSalesOrderLineItem | SaleSalesOrderLineItem

type SalesOrderLineItemPriceEstimate {
  costInCents: Int!

  """Delivery cost in cents for this line item"""
  delivery_cost_in_cents: Int
  details: LineItemCostOptionDetails!

  """Forecast of accumulative cost over a range of days"""
  forecast(number_of_days: Int = 200): LineItemPriceForecast
  rentalPeriod: LineItemRentalPeriod!
  savingsComparedToDayRateInCents: Int!
  savingsComparedToDayRateInFraction: Float!
  savingsComparedToExactSplitInCents: Int!
  strategy: String!

  """Total cost including delivery in cents for this line item"""
  total_including_delivery_in_cents: Int
}

type SalesOrderListResult {
  items: [SalesOrder!]!
  limit: Int!
  offset: Int!
  total: Int!
}

type SalesOrderPricing {
  """Sum of all line item totals (pre-tax)"""
  sub_total_in_cents: Int

  """Tax total (8% of sub_total_in_cents, rounded)"""
  tax_total_in_cents: Int

  """sub_total_in_cents + tax_total_in_cents"""
  total_in_cents: Int
}

type ScopeOfWorkCode {
  code: String!
  description: String!
}

"""
Project scope of work. Allowed values:
- SITE_CIVIL: Clearing, grubbing, earthwork, underground utilities, erosion control, paving, striping, hardscape, and landscaping.
- FOUNDATIONS: Deep (pile, caisson) and shallow (spread footing, slab‑on‑grade) foundations, waterproofing, and sub‑slab drainage systems.
- STRUCTURAL_FRAME: Structural steel or cast‑in‑place concrete frame, metal decking, shear bracing, anchor bolts, and related fireproofing.
- BUILDING_ENVELOPE: Exterior wall systems (masonry, precast, curtain wall), thermal & moisture protection, roofing systems, windows, skylights, and exterior doors.
- INTERIOR_BUILD_OUT: Metal studs, drywall, ceilings, flooring, interior glazing, millwork, casework, interior doors, hardware, paint, and specialty finishes.
- MEP: HVAC equipment & ductwork, plumbing supply & waste, fire protection systems, medium- and low-voltage electrical distribution, lighting, and emergency power.
- SPECIALTY_SYSTEMS: Vertical transportation (elevators, lifts), building automation, security & access control, audiovisual, structured cabling, and telecom infrastructure.
- COMMISSIONING_STARTUP: Functional performance testing, TAB (testing, adjusting & balancing), systems verification, owner training sessions, and punch‑list resolution.
- DEMOBILIZATION_CLOSE_OUT: Final cleaning, removal of temporary facilities, restoration of lay‑down areas, compilation of turnover documentation, warranty certificates, lien waivers, and final pay application.
- WARRANTY_SERVICES: Scheduled inspections, corrective work, preventive maintenance, and performance monitoring through warranty expiration.
"""
enum ScopeOfWorkEnum {
  BUILDING_ENVELOPE
  COMMISSIONING_STARTUP
  DEMOBILIZATION_CLOSE_OUT
  FOUNDATIONS
  INTERIOR_BUILD_OUT
  MEP
  SITE_CIVIL
  SPECIALTY_SYSTEMS
  STRUCTURAL_FRAME
  WARRANTY_SERVICES
}

type ServiceTask {
  completed: Boolean
  taskDetails: String
}

type ServiceTransaction implements BaseTransaction {
  assignee: String
  comments: [Comment!]
  costInCents: Int
  createdAt: DateTime
  createdBy: ID
  history: [TransactionLogEntry]
  id: ID!
  lastUpdatedBy: ID
  location: String
  notes: String
  projectId: ID
  quotes: [Quote!]
  statusId: ID
  tasks: [ServiceTask!]
  type: TransactionType
  updatedAt: DateTime
  workflowId: ID
  workspaceId: ID
}

enum ServiceTransactionTypes {
  CUSTOM
  HAULING
  MAINTENANCE
}

type SignedUploadUrl {
  key: String!
  url: String!
}

enum SupportedContentType {
  APPLICATION_PDF
  IMAGE_JPEG
  IMAGE_PNG
}

union Transaction = RentalTransaction | SaleTransaction | ServiceTransaction

input TransactionInput {
  projectId: ID
  type: TransactionType!
  workspaceId: ID!
}

type TransactionLogEntry {
  action: String
  col: String
  newValue: String
  oldValue: String
  userId: ID
}

type TransactionStatus {
  colourCode: String
  id: ID
  name: String
  type: TransactionStatusType
  workflowId: ID
}

enum TransactionStatusType {
  DOING
  DONE
  TODO
}

enum TransactionType {
  RENTAL
  SALE
  SERVICE
}

input UpdateBusinessContactInput {
  accountsPayableContactId: ID
  address: String
  name: String
  notes: String
  phone: String
  profilePicture: String
  resourceMapIds: [ID!]
  taxId: String
  website: String
}

input UpdatePersonContactInput {
  businessId: ID
  email: String
  name: String
  notes: String
  phone: String
  profilePicture: String
  resourceMapIds: [ID!]
  role: String
}

input UpdatePurchaseOrderLineItemInput {
  id: String!
  po_pim_id: String
  po_quantity: Int
}

input UpdateRentalSalesOrderLineItemInput {
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!
  lineitem_status: LineItemStatus
  off_rent_date: String
  price_id: String
  price_per_day_in_cents: Int
  price_per_month_in_cents: Int
  price_per_week_in_cents: Int
  so_pim_id: String
  so_quantity: Int
  unit_cost_in_cents: Int
}

input UpdateSalesOrderLineItemInput {
  delivery_charge_in_cents: Int
  delivery_date: String
  delivery_location: String
  delivery_method: DeliveryMethod
  id: String!
  lineitem_status: LineItemStatus
  lineitem_type: LineItemType
  off_rent_date: String
  price_id: String
  price_per_day_in_cents: Int
  price_per_month_in_cents: Int
  price_per_week_in_cents: Int
  so_pim_id: String
  so_quantity: Int
  unit_cost_in_cents: Int
}

type User {
  companyId: String!
  email: String!
  firstName: String!
  id: String!
  lastName: String!
}

type Workflow {
  id: ID
  name: String
  statuses: [TransactionStatus!]
}

type Workspace {
  companyId: Int
  id: ID
  name: String
}